LECTURE #20
Introduction
Q: How do we relay encoded data from the generating device to the next device?
A: Interface
-Defined by several popular standards
-Physical layer of the OSI model
-Mechanical/electrical/functional specifications
* Digital Data Transmission
Do we send one bit at a time or do we group bits into larger groups and if so, How?

* Parallel Transmission
o Binary data consisting of 1s and 0s may be organized into groups of 'n' bits each
o By grouping we can send data 'n' bits at a time instead of one bit



* Serial Transmission
o One bit follows another, so we need only one channel rather than 'n' to transmit data between two devices
o Conversion devices are required at the interface



> Advantage
-COST
* Types of Serial Transmission
* There are two types of Serial Transmission:
-Asychronous Transmission
-Synchronous Transmission
Asynchronous Transmission
o It is so named because the timing of the signal is unimportant. Instead information is received and translated by agreed upon patterns
o Start and Stop Bits

Asynchronous Transmission
* Advantages
-Cheap
-Effective
* Disadvantages
-Slow

Synchronous Transmission
* Data is transmitted as an unbroken string of 1's and 0's and the receiver separates that string into the bytes or characters it need to reconstruct the information



Synchronous Transmission
* Advantage
-Speed
Summary Introduction to Interfaces
* Digital Data Transmission
* Parallel Transmission
* Serial Transmission
* Asynchronous Transmission
* Synchronous Transmission
Reading Sections

* Section 6.1,6.2, "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan



DTE-DCE Interface

LECTURE #21


o There are 4 basic functional units involved in communication of data:
-A DTE and DCE on one end
-A DTE and DCE on the other end
> DTE: Any device that is a source of or destination of digital data
> DCE: Any device that transmits/receives signal through network


o The DTE generates the data and passes it along with any control information to a DCE
o The DCE converts the signal to a format appropriate to the TX medium and introduces it onto the network link
o When the signal arrives at the receiving end this process is reversed
> DTE
o DTE includes any unit that functions either as a source of or as a destination for binary digital data
o At the physical layer, it cab a terminal, microcomputer, computer , printer or any other device that generates or consumes digital data
o DTEs do not often communicate with each other directly with each other
o Think of DTE as your Brain.
o Your and your friends brains are DTEs
o The vocal chords or mouth are DCEs
o Air is TX Meduium

> DCE
o DCE includes any functional unit that transmits or receives data in the form of an analog or digital signal through a network
o At the physical layer, a DCE takes data generated by a DTE, converts it to the appropriate signal and then introduces it to the comm link
o Commonly used DCEs at the physical layer include MODEMS

o In any n/w , a DTE generates digital data and passes it on to a DCE, the DCE converts the data to a form acceptable to the TX medium and sends the converted signal to another DCE on the network
o The second DCE takes the signal off, converts it to a suitable form for its DTE and delivers it
o To make this communication possible, the sending and receiving DCEs must use the same modulation method

* The two DTEs need not be coordinated with each other but they need to be coordinated with their respective DCEs and the DCEs must be coordinated so that data translation occurs w/o loss of integrity

* Standards

Many standards have been developed to define the connection b/w the DTE and a DCE
o Though the solution differ, each standard provides a model for mechanical, electrical and functional characteristics of the connection
o Electronic Industries Organization (EIA) and ITU-T
* EIA 232 Interface
o Standard developed by EIA
o Defines Mechanical, Electrical and Functional characteristics of the interface b/w DTE and a DCE
o Originally issued in 1962 as the RS 232 standard
o Revised several times, recent version EIA 232-D
o Defines not only the type of connectors to be used but also the specific cable and plugs and the functionality of each pin

> Mechanical Specifications
o EIA 232 standard defines interface as a 25-wire cable with a male and a female DB 25 pin connector attached to either end.
o The length of the cable may not exceed 15 meters(50 feet)
o A DB 25 connector is a plug with 25 pin or receptacles each of which is attached to a single wire with a specific function
o With this design, EIA has created the possibility of 25 separate interactions b/w a DTE and a DCE
o Fewer are actually used but standard allows for future inclusion of functions

o EIA 232 calls for a 25 wire cable terminated at one end by by a male connector and at the other end by a female connector
o Male refers to a plug with each wire in the cable attaching to a pin
o Female refers to a receptacle with each wire in cable connecting to a metal tube or sheath

> Electrical Specifications (Sending data)

o EIA 232 states that data must be tx as binary 1's and 0's using NRZ-L encoding with 0 defines as a positive and 1 defined as a negative voltage
o However rather than defining a single range bounded by highest and lowest amplitudes, EIA 232 defines two distinct ranges , one for +ve voltages and one for -ve

o The receiver accepts any voltage that falls within these ranges as valid signals
o To be recognized as data, the amplitude of the signal must fall b/w 3 and 15 volts or b/w -3 and -15 volts
o Degradation of noise will in misinterpretation of bits
o A square wave is shown to be converted into a curve by noise and it covers many voltages
o If the rx were looking for a fixed voltage, or only for pulses that held a single voltage for their entire duration,degradation would have made it unrecoverable.

* Electrical Specifications (Control & Timing)
o Only 4 wires out of 25 in EIA 232 are used for data functions.
o Remaining 21 are reserved for functions like Control, Timing,
Grounding and Testing
o Any of the functions is considered ON if it transmits a voltage of atleast +3 and OFF if it tx a voltage with a value less than -3

o The specification for control signals is conceptually reversed from that for data transmission
o A positive voltage means ON and a negative voltage means OFF

* Electrical Specifications (BIT rate)
o A final important function of electrical specifications is definition of Bit Rate
o EIA 232 allows for a maximum bit rate of 20Kbps although in practice it is often is exceeded

> Functional Specifications
o Two different implementations of EIA 232 are available:
-DB 25
-DB 9
o DB 25 connector defines the functions assigned to each of the 25 pins in
the DB 25 connector


Functional Specifications


o Figure shows the ordering and functionality of each pin of a male connector
o Female connector will be a mirror image of the male so that pin 1 in the plug matches tube 1 in the receptacle and so on
o Each comm function has a mirror or answering function for traffic in the opposite direction to allow for full duplex operation
o For Example, pin 2 is for transmitting data and pin 3 is for receiving data
o Pin 9 and 10 are for future use
o Pin 11 is yet unassigned
* DB9 IMPLEMENTATION
o Most of the pins in DB 25 implementation are not necessary ina single asynchronous connection
o A simpler 9 pin version of EIA 232 is shown in the figure
Functioning Steps
* Step 1: Preparation

-Preparation of the interface between DTE and DCE
* Step 2: Readiness
-Checks if all four devices are ready
* Step 3: Set up
-Set up the connection between two DCEs
* Step 4: Data Transfer
-DTE -> DCE -> DCE -> DTE
* Step 5: Clearing
-Turning OFF the connection
Functioning Example

o Step1: Preparation of interfaces for TX. The two grounding circuits,1(shield) and 7 (ground) are active b/w the two devices
o Step 2 ensures that all four devices are ready for TX. First the sending DTE activates pin 20 and sends a Dte ready message to its DCE . DCE answers by activating pin6 . Same sequence is performed by remote computer
o Step3: sets up the physical connection b/w the sending and the receiving modems.
o First the DTE activates pin 4 and sends its DCE a request to send message. The DCE transmits a carrier signal to the idle receiving modem

o When receiving modem detects the carrier signal, computer that a TX is about to begin .

it activates pin 8, telling its

o After tx the carrier signal, sending DCE activates pin 5 sending its DTE a clear to send message. The remote computer and modem do the same step
o Step4: Data transfer procedure
o Initiating computer transfers its data stream to its modem over circuit 2accompanied by the timing pulse of circuit 24.
o Modem converts digital data to an analog signal and sends it over the network
o Responding modem retreives the signal, converts it back to digital and passes it to DTE via circuit 3 and timing pulse of 17
o Step5: Once both computers have completed their transmission, both computers deactivate their request-to-send circuits , modems turn off their carrier signals, their received line signal detectors and their clear to send circuits


* NULL MODEM
o Suppose you need to connect two DTEs in the same building, for example two workstations
o Modems are not needed to connect two compatible devices directly
o The TX never needs to cross analog lines, such as telephone lines and therefore does not need to be modulated
o But you do need an interface to handle the exchanging , just as EIA 232 DTE- DCE cable does
o The solution is a NULL Modem
o A null modem provide DTA -DTE interface w/o DCEs
o But why use a Null Modem
o If all you need is the interface, why not just a a standard EIA 232 cable?



o Part a shows a connection using a telephone network
o Part b shows what happens when we use the same connections between two DTEs
o The receive circuit is void because it has been isolated completely for the TX
o The tx cct 2 endsup full of collision noise
NULL MODEM Crossing Connections

o Whereas EIA 232 DTE-DCE interface cable has a female connector at the DTE and a male connector at the DCE end, a null modem has female connectors at both ends to allow it to connect to the EIA 232 DTE ports which a male



Summary
* DTE-DCE Interface
* DTE-DCE Interface Standards
* EIA-232
* Null Modem
Reading Sections
Section 6.2,6.3, "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #22
Other Interface Standards
o Both Data Rate and Cable LENGTH are restricted by EIA 232
o Data rate to 20 Kbps and Cable length to 50 feet
o To meet need of users requiring more speed or distance , the EIA and ITU-T has introduces additional standards: EIA 49, EIA 530 and X.21
* EIA 449
o Mechanical specifications of EIA 448 define a combination of two connectors , on with 37 pins ( DB 37) and one with 9 pins (DB 9) for a combined 46 pins
o The functional specifications of EIA 449 give the DB 37 pins properties similar to those of the DB 25.
o The major functional difference b/w 25 and 37 pin connectors is that all functions relating to the secondary channel have been removed from DB 37
o Because the secondary channel is seldom used, EIA 449 separates those functions out and puts them in the second, 9 pin connector (DB9)
o In this way, a second channel is available to systems that need it
> EIA 449 (PINS)
o To maintain compatibility with EIA 232, EIA 449 defines two categories of pins to be used in exchanging data, control, and timing information
* Category 1 pins
* Category 2 pns
* Category 1 and 2 pins
Category 1 includes those pins whose functions are compatible with EIA 232
Category 2 pins are those that have no equivalent in EIA 232 or have been redefined
DB9 connector here is different from the one that is previously discussed


> Electrical Specifications RS423, RS 422
EIA 449 uses two standards to define its electrical specifications:
* RS-423: Unbalanced Mode
* RS-422: Balanced Mode
* RS 423 Unbalanced Mode
o Unbalanced Circuit Specification
o Unbalanced means that it defines only one line for propagating a signal
o All signals in this standard use a common return or a ground to complete the circuit



o In unbalanced mode, EIA 449 calls for the use of only the first pin of each pair of category 1 pins and all category 2 pins
* RS 422 Balanced Mode
o Balanced circuit specification
o Defines two lines for the propagation of each signal
o Signal again uses a common return


o EIA utilizes all pairs of pins in category 1 but does not use the category 2 pins
o The ration of data rate to distance is much higher in this case than EIA 232
o In balanced mode two lines carry same signal which are not identical to each other
o Signal on one line is the complement of the other
Canceling of Noise in the Balanced Mode
When plotted, complement of the signal looks like the mirror image of the signal



* EIA 530

o EIA 449 provides much better functionality than EIA 232
o However it requires a DB 37 connector that industry has been reluctant to use because of the widespread use of DB 25
o To encourage acceptance of EIA 449, EIA developed a version of EIA- 449 that uses DB 25 pins
o Pin functions of EIA 530 are essentially those of EIA 449 CATEGORY 1 pins plus three pins from category 2
o EIA 530 does not support a secondary circuit
* X.21
o Eliminates most of control pins of EIA standards
-Control signals are encoded to control characters
-Send control characters within the data line
-More control information for digital telephony

o For digital communication between devices over a network, rather than just between DTE and DCE
o DB-15, Work with balanced circuits at 64Kbps
* MODEMS
o Most familiar type of a DCE
o We require modem to connect to the internet
o MODEM is a composite word for modulator and Demodulator
o Modulator converts a digital signal into an analog signal using ASK, FSK,
PSK or QAM
o A demodulator converts an analog signal into a digital signal
o While a demodulator resembles an analog-to-digital converter, it is not infact a converter of any kind
o It does not sample the signal to create a digital signal
o It just reverses the process of modulation that is it performs demodulation


o Shows the relationship of a modulator with a demodulator
o Two PCs at the end are DTEs, and the modems are the DCEs

o DTE creates a digital signal and relays it to the Modem via an interface via an interface

o Modulated modem

signal is received by the demodulation function of the second

o This modem takes this ASK, FSK, PSK or QAM signal and decodes it into whatever format its computer can accept
o It then relays the digital signal to the computer via an interface
o Each DCE must be compatible with both its own DTE and the other DCE
> Transmission Rate
o Modems are often described as high speed or low speed to indicate how many bits per second a specific device is capable of transmitting or receiving
o Limitations on the transmission rate of the Modem
> Bandwidth
o Data rate of a link depends upon the type of encoding uses and the bandwidth of the medium
o The medium bandwidth is related to the inherent limitation of the physical property of the medium
o Every line has a range of frequencies it can pass
o If the frequency of a signal is too ow, it cannot overcome the capacitance of the line
o If frequency is too high, it can be impeded by the inductance of the line
o So every line has an upper limit and a lower limit on frequencies of the signals
o This limited range is called Bandwidth
Telephone Line Bandwidth


o Traditional telephone lines can carry fre's b/w 300 Hz and 3300 Hz giving them a BW of 3000Hz
o All of this range is used for transmitting voice where a great deal of interference and distortion can be accepted w/o any loss of intelligibility
o Data signal require a high degree of accuracy , so edges of this range are not used for data comm
o Effective BW of telephone line used for data transmission is 2400 Hz covering a range from 600 Hz to 3000Hz
* Modem Speed
o Each type of Analog conversion manipulates signal differently:

> ASK manipulated Amplitude
> FSK manipulates Frequency
> PSK manipulates Phase
> QAM manipulate both phase and amplitude
> Modem Speed-ASK
o BW required for ASK is equal to the baud rate of the signal
o Assuming that entire link is being used by one signal, as in Simplex or Half Duplex, the maximum baud rate for ASK modulation is equal to the entire BW of the transmission medium

o Because the effective BW of a telephone line IS 2400 Hz, the maximum baud rate is also 2400
o Baud rate and bit rate are equal for ASK, so maximum bit rate is also 2400 bps
Modem Speed-ASK (Full Duplex)



o For full duplex TX, only half of the total bandwidth cab be used in directions
o Therefore the maximum speed for ASK in full duplex mode is 1200 bps
o Noise problem makes it impractical for use in Modems

either


> Modem Speed-FSK
o BW required for FSK is equal to the baud rate of the signal plus the frequency shift
o So maximum baud rate becomes equal to the BW transmission medium minus the frequency shift



o Maximum Baud rate is therefore 2400 minus the frequency shift
o And bit rate is also 2400 minus frequency shift
o In full duplex mode it is equal to 1200 minus the frequency shift



> Modem Speed-PSK & QAM
o Minimum BW for PSK or QAM is the same as for ASK but the bit rate can be greater depending upon the number of bits that can be represented by each signal unit
> Modem Speed-PSK & QAM on two wire Twisted pair Telephone line Comparisons of bit rates: HDX and FDX
2-PSK240012004-PSK,4-QAM480024008-PSK,8-QAM7200360016-QAM9600480032-QAM120006000Summary* EIA-449
* EIA-530
* X.21
* Modems

Reading Sections
* Section 6.4, 6.5, "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #23
Modem Standards
o Bell modems
-First commercial modems by Bell Telephone Co.
-Developed in early 1970s
o ITU-T modem standards
-V-series: Today's most popular modem standards
-Bell modem compatible: V.21/22/23/26/27/29
o Intelligent modems
-Hayes (or Hayes-compatible) modems
-Modem is controlled by instructions (AT commands)
-Automatic answering, dialing, etc.

BELL Modems


ITU-T Modems

* Traditional Modems
o Traditional modems are limited to a data rate of 33.6 Kbps as determined by Shannon's formula Data rate ? Signal-to-noise ratio
o New modems with bit rated of 56 Kbps are wide spread now

o TX of data from A to B
o Digital data is modulated by the modem at site A
o Analog data is sent from the modem to to the switching station at site A using the local loop

o At the switching station, analog data is converted digital using PCM
o Digital data travels through the digital network of telephone company and arrives at the switching station of site B
o At the switching station , digital data is converted to analog using inverse PCM
o Analog data is sent from switching station at site B to the modem using the local loop
o Analog data is demodulated by modem at site B
o The limiting factor is step 3. Here the analog signal is quantized to create digital signal. The quantization noise resulting from this process limits the data rate to 33.6 Kbps
o The TX of data from site B to site A follows the same steps and again the limiting factor is quantization.

* RESULT:
The maximum data rate in each direction is limited to 33.6 Kbps

* 56K Modems
o If one side is an ISP and the signal does not have to pass through a PCM converter , quantization is eliminated in one direction and data rate can be increased to 56 Kbps


> Uploading
o Transmission of data from the subscriber to the ISP(UPLOADING) follows the following steps:
o Digital data is modulated by Modem at site A
o Analog data is sent from the modem to the switching station at site A on the local loop
o At the switching station, data is converted to digital signal using PCM
o Digital data travel through the digital network of the telephone network of the telephone company and is received by the ISP computer
o The limiting factor is again step 3
o However user does not need high data rate since in this direction only small blocks of data is sent

> DOWNLOADING

o Tx of data from ISP to the modem at site A follows these steps:
o Digital data is sent by the computer of ISP through the digital telephone network
o At the switching station, digital data is converted to analog using inverse PCM
o Analog data is sent from the switching station at site A to the modem on the local loop
o Analog data is demodulated by modem at site A
o Note that in this direction there is no quantization of data using PCM.
o The limitation when uploading is not an issue an here a
o Data can be sent at 56 Kbps
o This is what user is looking for since larger files are typically downloaded from internet
* RESULT
The maximum data rate in the uploading direction is still 33.6 Kbps but the data rate in downloading direction is now 56 Kbps
* Why 56Kbps?
-Switching stations of the telephone company use PCM/Inverse PCM for digitizing voice
-8000 samples/sec * 7 bits/sample = 56 Kbps
Summary
* MODEM Standards
-Bell Modems
-ITU-T Modems
* Traditional MODEMS
* 56k MODEMs
* Cable Modems
Reading Sections
* Section 6.4, 6.5, 6.6,"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan


Cable Modems

LECTURE #24


o Data rate limitation of traditional modems is mostly due to the narrow BW of the local loop telephone line (4Khz)
o If higher BWs are available, one can design a modem that can handle much higher data rates
o Fortunately, cable TV provides residential premises with a coaxial cable that has a BW of up to 750 MHz and sometimes even more
o This BW is normally divided into 6MHz bands using FDM
o Each band provides a TV Channel
o Two bands can be left aside to allow a user to download and upload the information from the internet
o Instead of the traditional cable box, we show a splitter
o The splitter directs the TV bands to the TV set and the Internet access bands to the PC
* DOWNLOADING: Downloading requires a 6 MHz BW in the range above 40MHz. The demodulation technique used is 64 QAM (6 bits at a time)
o This means that a user can download info at a rate of 6MHz * 6 = 36Mbps
o However PCs are not yet capable of receiving data at this rate
* Currently rate is b/w 3 and 10 Mbps

* UPLOADING: Requires a 6MHz BW in a range below 40MHz
o At this low frequency, home appliances can create a noise environment that effects modulation
o The modulation technique uses is QPSK (4 bits at a time)
o This means that user can Upload info at a rate of 6 MHz * 2=12 MHz
o Presently uploading rate is b/w 500Kbps and 1Mbps
Electromagnetic Energy

o Signals are transmitted from one device to another in the form of electromagnetic energy
o Electromagnetic signals can travel through Vacuum, Air or other transmission media
o Electromagnetic energy, a combination of electrical and mechanical fields vibrating in relation to each other includes power, voice, video, radio waves, infrared light, visible light and ultra violet light

o Each of the above constitute a portion of the Electromagnetic Spectrum:
* Not all the portions of the spectrum are currently usable for Telecommunications
* Voice-band frequencies are generally tx as current over metal cables, such a twisted pair or coaxial cable

o Radio frequencies can travel through air or space but require specific transmitting and receiving mechanisms
o Visible light, the third type of Electromagnetic energy currently used for communications is harnessed using fiber optic cable

* Classes of Transmission Media

o Two classes of Transmission Media:
-Guided Media
-Unguided Media
> Guided Media
Guided Media, are those media that provide a conduit from one device to another



> Twisted Pair Cable
o Twisted pair comes in two forms:
-Unshielded Twisted Pair (UTP) cable
-Shielded Twisted Pair (STP) cable


* Frequency range for Twisted Pair Cable



> Unshielded Twisted Pair (UTP) Cable
o UTP cable is the most common type of Telecommunication Medium in use today
o Although mostly used in Telephone systems,, its frequency range is suitable for transmitting both data and voice


o A twisted pair consists of two conductors (usually copper) , each with its own colored plastic insulation.
o The plastic insulation is color banded for identification

o Colors are used both to identify the specific conductors in a cable and to indicate which wires belong in pairs and how they relate to other pairs in a large bundle

> Parallel Flat Wire
o In the past, two parallel flat wires were used for communication.
o However, EM interference from devices such as motor can create noise over those wires


* Effect of noise on Parallel Flat Wire

o If the two wires are parallel, the wire closest to the source of the noise gets more interference and ends up with a higher voltage level than the wire further away
o This results in an uneven load and a damaged signal

* Noise Effect on Twisted-Pair
o If the two wires are twisted around each other at regular intervals (b/w 2 & 12 twists per foot), each wire is closer to the noise source for half the time and is away for the other half
o Twisting does not always eliminate the impact of Noise but it does significantly reduce it




o With twisting, therefore the cumulative effect of the interference is equal on both wires
o Each section of wire has a "Load" of 4 when it is on the top of the twist and '3' when it is on the bottom
o The total effect of the noise at the receiver is therefore 0 (14-14)
* Advantage of UTP
• Advantages of UTP are:
-Cost
-Ease of Use
• Its cheap, flexible and easy to install
• Higher grades of UTP are used in many LAN technologies including Ethernet and Token Ring

Cable with 5 UTP of wires


* Categories of UTP Cable
EIA has developed standards to grade UTP cables by quality.
Categories are determined by cable quality, with 1 as the lowest and 5 as the highest
Each EIA category is suitable for certain uses and not for others

* Category 1
-Basic Twisted pair cabling used in Telephone system
-Fine for voice but inadequate for all but low-speed data communication
* Category 2

-The next higher grade, suitable for voice and for data transmission of up to 4Mbps
* Category 3
-Required to have at least 3 twists per foot
-Can be used for for data tx ofup to 10Mbps
-Now the standard cable for most telephone lines
* Category 4
-Must have at least 3 twists per foot
-Possible tx rate of 16 Mbps
* Category 5
-Used for data transmission of up to 100 Mbps
* UTP Connectors
o UTP is mostly connected to the networked devices via a type of snap-in plug like that used with telephone jacks
o Connectors are either male (plug) or female (the receptacle)
o Male connectors snap into female connectors and have a repressible tab (key) that locks them in place




o Each wire in the cable is attached to one conductor (or pin) in the connector
o The most frequently used of these plugs is an RJ 45 connector with 8 conductors, one for each wire of 4 twisted pairs
Summary
* Cable Modems
* Electromagnetic Spectrum
* Transmission Media and its Types
* Guided Media
* Twisted Pair
* Coaxial Cable
* Optical Fiber
Reading Sections
* Section 6.6, 7.1, "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #25
Shielded Twisted Pair (STP)
o Has a metal foil or braided-mesh covering that encases each pair of insulated conductors


o The metal casing prevents the penetration of EM noise
o It also can eliminate a phenomenon called Crosstalk, which is the undesired effect of one circuit (or channel) on another circuit (or channel)
o It occurs when one one line picks up some of the signals traveling down another line.
o This effect can be experienced during telephone conversations when one can hear other conversations in the background
o Shielding each pair of twisted pair can eliminate most crosstalk
o STP Cable has the same quality considerations and uses the same connectors as UTP but the shield must be connected to a ground
o STP is more expensive than UTP but is less susceptible to noise
* Coaxial Cable
o Instead of having two wires, coaxial cable has a central core conductor of solid or stranded wire (usually copper) enclosed in an insulating sheath
o This is in turn encased in an outer conductor of metal foil, braid or a combination of the two
o The outer metallic wrapping serves both as a shield against Noise and as the second conductor which completes the circuit
o This outer conductor is also enclosed in an insulating sheath and the whole cable is protected by a plastic cover

> Frequency Range of Coaxial Cable
Coax carries signals signals of higher frequency ranges than twisted pair cable




> Coaxial Cable Standards
Different coaxial cable designs are categorized by their Radio government ( RG ) ratings
Each RG number denotes a unique set of physical specifications, including
-the wire gauge of inner conductor
- the thickness and type of inner insulator
-Construction of the shield
-Size and type of outer casing
Each cable defined by RG rating is adapted for a specialized function:
* RG-8


* RG-9

-Used in Thick Ethernet

-Used in Thick Ethernet

* RG-11
-Used in Thick Ethernet
* RG-58
-Used in Thin Ethernet
* RG-59
-Used for TV
> Coaxial Cable Connectors
o Over the years, a no. of connectors have been designed for use with coaxial cable
o Most common of the connectors is called "BARREL connector" because of its shape
o Of the barrel connectors, the most popular is the Bayonet Network Connector (BNC)
o BNC connector pushes on and locks into place with half turn
o Other types of barrel connectors either screw together and so require more effort to install or push on w/o locking which is less secure
o Coaxial cables are familiar in Cable TV and VCR hookups that employ both threaded and alip on style
o Two other commonly used connectors are T-connectors and Terminators
* A T-connector (used in Thin Ethernet) allows a secondary cable or cables to branch off from a main line

* Terminators are required for bus topologies where one main cable acts as a backbone with branches to several devices but does not itself terminate in a device

If main cable is left un terminated, any signal tx over the line echoes back and interferes with the original signal
A terminated absorbs the wave at the end and eliminates this echo
* Optical Fiber
o Until this point we have discussed conductive (metal) cables that transmit signals in the form of current
* Optical fiber is made of glass or plastic
* It transmits signals in the form of light
> The Nature of Light
The speed of light
-300,000 Km/sec in a vacuum
-Depends on the density of the medium through which it is traveling
-The higher the density, the slower the speed
* Refraction
o Light travels in a straight line as long as it is moving through a single uniform structure
o If a ray of light traveling through one substance enters another (more or less dense) substance, its speed changes abruptly causing the ray to change direction
o This phenomenon is called Refraction
* Example of Refraction
o A pencil sticking out of a glass of water appears bent because the light by which we see it changes direction as it moves from air to water

* Direction of Refraction
Direction in which a light is refracted depends upon the density of a medium


o A beam of light moves from a less dense into a more dense medium bend towards vertical axis
o Incident angle is 'I' and Refracted angle is 'R'

* Critical Angle

o We have a beam of light moving from a more dense to a less dense medium
o We gradually increase the angle of incidence measured from vertical axis
o As angle of incidence increases, so does the angle of refraction
o The angle at which refracted line lies on the horizontal axis is called
o Critical Angle
* Reflection

o When angle of incidence becomes greater than critical angle, reflection occurs
o Light no longer passes into the less denser medium but is reflected back into the same medium
o The Angle of Incidence (I) = Angle of Reflection (R)
* Optical Fibers & Reflection
o Optical fibers use Reflection to guide light through a channel
o A glass or plastic CORE is surrounded by a CLADDING of less dense glass or plastic
o The difference in the density of CORE and CLADDING is such that the beam of light moving through the core is reflected off the cladding
o Information is encoded onto a beam of light as a series of ON-OFF flashes that represent 1 and 0 bits

• Propagation Modes

o Fiber Technology supports two modes for the propagation of light
> Multimode
> Single Mode
Each	of	these	modes	require	fiber	with	different	physical characteristics
o There are two further sub categories of Multimode Fiber:
> Multimode Step-Index Fiber
> Multimode Graded-Index Fiber
> Multimode Fiber
o Multiple beams from a light source move through the core in different paths
o Two types of the Multimode fiber:
> Multimode Step Index Fiber
> Multimode Graded Index Fiber
> Multimode Step-Index Fiber

o Density of the CORE remains constant from the center to the edges
o A beam of light moves through this constant density in a straight line until it reaches the interface of the core and the cladding
o At the interface, there is an abrupt change to lower density, that alters the angle of the beam's motion
o Step Index--> Suddenness of this change
o Some beams travel straight and reach the destination without reflecting
o Some strike the interface of core and cladding at an angle smaller than critical angle and penetrate cladding and are lost

o Others hit edge of the core at angles greater than critical angle and bounce back and forth to the destination

* Disadvantage of Multimode Step-Index Fiber
o Each beams angle is equal to its angle of reflection
o If I is small, R is small and the beam will require more bounces and it will take more time to reach the destination
o If I is large, R is large and beam will reach destination quickly
o In other words there is a difference is Path Lengths that results into a distortion at the receiver
o This distortion limits the data rate and make Multimode Step index fiber inadequate for precise applications

> Multimode Graded-Index Fiber
o The solution to the above problem is Multimode Graded Index Fiber
o A grade index fiber is the one with varying densities
o Density is highest at the center of the core and decreases gradually to its lowest at the edge


o The signal is introduced at the center of the core
o The horiz beams move straight to the receiver
o Beams at other angles moves through the series of constantly changing densities
o Each density difference causes each beam to refract into a curve
o Signal can be reconstructed with far greater precision as all the beams reach the receiver at almost the same time

Summary
* Transmission Media and its Types
* Guided Media
- Twisted Pair
- Coaxial Cable
- Optical Fiber

Reading Sections
* Section 7.1, "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan


Single Mode Fiber

LECTURE #26

o Uses step index fiber and a highly focused source of light that limits beams to a small range of angles all close to the horizontal
o Single Mode fiber is manufactured with a much smaller Diameter than Multimode
o All of the beams arrive at the destination together and can be recombined without distortion to the signal

* Fiber Sizes
o Optical Fibers are defined by the ratio of the diameter of their Core to the diameter of their Cladding
o Both the diameters are expressed in Microns (Micrometers)
Fiber type	Core	Cladding
62.5/12562.512550/12550125100/1401001408.3/1258.3125
* Cable Composition

o A core is surrounded by cladding forming the Fiber.
o In most cases, fiber is covered by a Buffer layer that protects it from moisture.
o Finally the entire cable is encased in an outer jacket
o Both core and cladding can be made of either glass or plastic but must be of different densities
o In addition the inner core must be ultra pure and completely regular in size and shape
o Chemical differences in material and even small variations in the size or shape of the core alter the angle of reflection and distort the signals

o Some applications can handle a certain amount of distortion and their cables can be made cheaply but others depend on complete uniformity
o The outer jacket can be made of several materials including Teflon, Plastic, Fibrous Plastic, metal tubing

Each of these materials have a purpose:
-Plastic is lightweight and cheap but do not provide structural strength and can emit fumes when burnt
-Metal tubing provides strength but is costly
-Teflon is lightweight and can be used in open air but it is expensive and does not increase cable strength

Light Sources for Optical Cable
o For tx to occur the sending device must have a light source and the receiving device with a photosensitive cell (Photodiode)
o Photodiode converts the light into current usable by the computer
* The light source can either be an LED or an ILD
> LED:

-Cheaper but provide Unfocused channel at uncontrollable angles
-Limited to short distance use
> LASER:

light that strikes the boundaries of

-Can be focused to a narrow incidence
* Fiber Optic Connectors
o Importance of Connectors

range allowing control over angle of

o If connector is over tight, two cores can be compressed and angle of reflection of the signal will be altered
o All of popular connectors are Barrel shaped that come in male and female versions
o The cable has a male connector that fixes into a female connector attached to the device to be connected
* Advantages of Optical Fiber
The major advantages of Fiber over twisted pair and coaxial cable are:

* Noise Resistance:
-Because fiber uses light rather than electricity, noise is not a factor
-External light the only form of possible interference is blocked from the channel by the Outer jacket
* Less Signal Attenuation
-Fiber optic Transmission distance is significantly greater than other media
-A signal can run miles w/o regeneration
* Higher Bandwidth
-Can support higher BWs and higher data rates

-High rates are not utilized by absence of signal generation and reception technology
Disadvantages of Optical Fiber
* COST
-Expensive
-No impurities or imperfections can be tolerated, so manufacturing is costly
-Laser light sources can be expensive
* INSTALLATION
-Roughness & Cracking of core cannot be tolerated
-All connections must be perfectly alligned
* Disadvantages of Optical Fiber
* Fragility
-Glass fiber is very fragile
-Can not be used in extreme conditions where hardware portability is required


* Unguided Media
o Unguided Media


or Wireless Communication transport Electromagnetic

waves without a physical conductor
o Instead signals are broadcast through Air and are available to anyone who has a receiver capable of receiving them


> Radio Frequency Allocation
o The section of EM spectrum


defined as Radio Communication is

divided into 8 ranges called BANDS
o BANDS are rated from very low frequency (VLF) to extremely high frequency (EHF)

> Propagation of Radio Waves
Radio Wave transmission utilizes five different types of propagation:

> Types of Propagation:

-Surface
-Tropospheric
-Ionospheric
-Line-of-Sight
-Space
Radio Technology considers the earth as surrounded by two layers of atmosphere:


* TROPOSHERE
o It is the portion of the atmosphere extending outwards approx. 30 miles from the earth's surface
o It contains what we call as AIR
o Clouds, wind, Temp. variation and weather in general occur in the Troposhere as does jet plane travel

* IONOSPHERE
o It is the layer of atmosphere above the troposhere but below space
o It is beyond what we think of as atmosphere
* Surface Propagation
o In surface propagation, radio waves travel through the lowest layer of the atmosphere, hugging the earth
o At the lowest frequencies signal emanate in all direction from the tx antenna and follow the curvature of the planet

o Distance depends on the amount of power in the signal
* Troposhpheric Propagation
This can work in two ways:

> Line-of-Sight:
-A signal can be directed in a straight from Antenna to antenna
> Broadcast:
-Signal is broadcasted at an angle into the upper layers troposphere from where it is reflected back to earth's surface




of the


o The first method demands that both transmitter and receiver be placed





















Summary

within line-of-sight distances and is limited by the curvature of the earth
o The second method allows greater distances to be covered
* Ionoshpheric Propagation
o Higher frequency radio waves are radiated towards the ionosphere where they are reflected back to the earth
o The difference in density between troposhphere and ionosphere causes each radio wave to speed up and change direction bending back to earth
o Allows greater distances to be covered by lower power output
* Line of Sight Propagation
o Very high frequencies signals are transmitted in straight line from antenna to antenna
o Antennas must be directional facing each other or either tall enough or close enough to each other to avoid earth's curvature
o Radio waves can reflect of the objects in the middle and can reach late to the receiver. These late signals distort signal

* Space Propagation
o A broadcast signal is received by the orbiting satellites which rebroadcasts the signal to the intended receiver on the earth

* Guided Media
* Optical Fiber Cable
* Unguided Media
* Radio Frequency Allocation
* Propagation of Radio Waves

Reading Sections
* Section 7.1,"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #27
Propagation of Specific Signals
o The type of propagation used in radio transmission depends upon the frequency of the signal
o Each frequency is suited for a specific layer of atmosphere and is most efficiently transmitted and received by technologies adapted to that layer

* Very Low Frequency (VLF) (Figure)
o VLF waves are propagated as surface waves through air
o Do not suffer much attenuation in TX but are susceptible to high levels of atmospheric noise I.e. electricity and heat
o Used for Long-range radio navigation and Submarine Communication


* Low Frequency (LF) (Figure)
o Also propagated as surface waves
o Used for Long-range radio and for navigational locators
o Attenuation is greater in the day time when absorption of waves by natural obstacles increases


* Middle Frequency (MF)
o Propagated in the Troposhere
o These frequencies are absorbed by Ionosphere
o The distance they cover is limited by the angle needed to get the signal reflect from the troposhere and not enter ionosphere
o Absorption increases during the day time
o Used for AM Radio


* High Frequency (HF) (Figure)
o Use ionospheric propagation

o These frequencies move into the ionosphere where the density difference reflects them back on earth
o Used for Citizen's Band Radio, International Broadcasting, Military Communication, Telephone, Telegraph and Fax


* Very High Frequency (VHF) (Figure)
o Most VHF waves use line-of-sight propagation
o Used for VHF Television, FM Radio, Aircraft AM Radio
o ?



* Ultra High Frequency (UHF) (Figure)
o Always use line-of-sight propagation
o Used for UHF Television, Mobile Telephone, Cellular Radio, Paging,
Microwave Links
o Note that microwave communication begins at 1GHz in UHF and continues into SHF and EHF band
o ?



* Super High Frequency (SHF) (Figure)
o SHF waves are TX using mostly line-of-sight and some Space propagation
o Used for Terrestrial and Satellite Microwave and Radar Communication



* Extremely High Frequency (EHF) (Figure)
o Use space propagation
o Used for Radar , Satellite and Experimental Communication
o ?

Terrestrial Microwave
o Microwaves do not follow the curvature of earth and therefore require line-of-sight TX and RX equipment
o Distance covered by line-of-sight signal depends to a large extent on the height of the antennas
o Height allows the signal to travel farther by crossing a lot of obstacles like low hills and buildings
o Microwave signals propagate in one direction at a time, which means that two frequencies are necessary for 2-way communication such as telephone conversation
o One frequency is reserved for MICROWAVE communication in one direction and the other for TX in the other direction
o Each frequency requires its own transmitter & receiver combined in a Transceiver nowadays

> Repeaters
o To increase distance for terrestrial microwave, a system of repeaters can be installed with each antenna
o A signal received by one antenna can be converted back to the transmittable form and relayed to the next antenna
o The distance required b/w repeaters varies with frequencies of the signal and the environment in which the antennas are found
o A repeater may broadcast the regenerated signal either at original frequency or a new frequency depending on system
o Used in Telephone systems worldwide

> Antennas
Two types of Antennas are used for Microwave communication:
-Parabolic Dish

-Horn



* Parabolic Dish
o Based on the geometry of a Parabola
o Every line parallel to the line of symmetry (line of sight) reflects off the curve at an angle such that they intersect in a common point called FOCUS
o Parabolic dish works like a funnel catching a wide range of waves and directing them to a common point
o In his way most of the signal is recovered than would be possible with a single-point receiver

* HORN
o Outgoing transmissions are broadcast through a horn aimed at the dish. The microwaves hit the dish and and are deflected outward in a reversal of the receipt path
o A horn antenna looks like a gigantic scoop
o Outward TXs are directed upward a stem and are deflected outward in a series of narrow parallel beams



Satellite Communication
o Satellite TX is much like line-of-sight transmission in which one of the stations is the satellite orbiting around the earth
o The principle is similar to the terrestrial microwave with a satellite acting as a Super tall antenna and Repeater






o Although in satellite TX, signals must still travel in straight line, the limitations imposed on distance by curvature of earth are reduced
o In this way satellites can span Continents and oceans with one bounce off the satellite
o Satellite can provide TX capability to and from any location on earth no matter how remote
o This advantage makes high quality communication available to underdeveloped parts of the worked at almost no cost
o Satellites themselves are very expensive but leasing a freq or time on one can be cheap


* Geosynchronous Satellite
o Line of sight propagation requires the sending and receiving antennas must be locked into each other
o To ensure continuous communication, satellites must move with the same speed as earth. So that they seem fixes w.r.t earth
o These satellites are called Geosynchronous Satellites





Figure shows 3 satellites in geosynchronous orbit each 120 degree from one another so that whole earth can be covered
* Satellite Frequency Bands

Each satellite sends and receives over two bands

-Uplink: From the earth to the satellite
-Downlink: From the satellite to the earth
Band	Downlink	Uplink
C	3.7-4.2 GHz	5.925-6.425 GHz
Ku	11.7-12.2 GH	14-14.5 GHz

Ka	17.7-21 GHz	27.5-31 GHz

Cellular Telephony
o Each service area is divided into small ranges called cells
o Each cell office is controlled by a switching office called MTSO
Operations of Cellular Telephony




* Transmitting
-Mobile phone sends the number to the closest cell office
-Cell office --> MTSO --> Telephone office
-MTSO assigns an unused voice channel
* Receiving
-Telephone office sends the signal to MTSO
-MTSO sends queries to each cell (paging)
-If mobile phone is found and available, assigns a channel
* Handoff
-MTSO monitors the signal level every few seconds

-If the strength diminishes, MTSO seeks a new cell and changes the channel carrying the call

Transmission Impairments
Transmission media are not perfect What is sent is not what is received

> Attenuation
o Attenuation means loss of energy
o Some of electrical energy is converted to heat
* Decibel (dB)
Relative strengths of two signals or a signal at two points dB = 10 log10 (P2/P1)
P2 and P1 are signal powers
Negative dB means attenuation Positive dB means amplification

Example 7.1
Imagine a signal travels through a transmission medium and its power is reduced to half. This means P2=(1/2)P1. Calculate Attenuation?
Solution:
-10log10(P2/ P1)= 10log10(0.5 P1/ P1)
=10(-0.3)= -3 dB
> Distortion
o Distortion means that the signal changes its form or shape
o Distortion occurs in a composite signal
Summary
* Frequency Ranges
* Microwave Communication
* Satellite Communication
* Cellular Telephony
* Transmission Impairments

Reading Sections
* Section 7.2, 7.3 "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #28
Transmission Impairments
TX Media are not perfect
Imperfections cause impairments in the signal through the medium
This means that the signal at the beginning and the end of the medium are not the same
What is sent is not what is received

> Attenuation
o Loss of Energy
o When a signal travels through a medium, it looses some of its energy in order to overcome the resistance of the medium
o That is why wire carrying electric signals get hot
o Some of the electrical energy in the signal is converted to heat
o To compensate for this loss Amplifiers are used to amplify the signal to heat
* Decibel (dB)
* Measures the relative strength of the two signals or a signal at 2 different points
* dB is negative if a signal is attenuated
* dB is positive if a signal is Amplified
Relative strengths of two signals or a signal at two points dB = 10 log10 (P2/P1)
P2 and P1 are signal powers
Negative dB means attenuation Positive dB means amplification

Example 7.1
Imagine a signal travels through a transmission medium and its power is reduced to half. This means P2=(1/2)P1. Calculate Attenuation?
Solution:
-10log10(P2/ P1)= 10log10(0.5 P1/ P1)
=10(-0.3)= -3 dB

> Distortion
o Distortion means that the signal changes its form or shape
o Distortion occurs in a composite signal
o Signal changes its form or shape
o Occurs in a composite signal, made of different frequencies
o Each signal component has its own speed

> NOISE
o Thermal Noise
-Due to random motion of electrons in a wire that creates an extra signal not originally sent by TX

o Induced Noise
-Comes from sources like Motors and Appliances
o Crosstalk:
-Effect of one wire on another
o Impulse Noise
-Spike (A signal with high energy in a very short period of time) that comes from power lines, lightening etc,.


* Performance of Medium
Three concepts are used to measure the performance of TX Media:
-Throughput
-Propagation Speed
-Propagation Time
> Throughput
o Measurement of how fast data can pass through a point
o In other words, if we consider any point in the TX Medium as a wall through which bits pass, then throughput is the number of bits that can pass this wall in second

> Propagation Speed
o Propagation speed measures the distance a signal or a bit can travel through a medium in one second
o The propagation speed of EM signals depend on the medium and the frequency of the signal

> Propagation Time
o Measures the time required for a signal (or a bit) to travel from one point of the TX medium to another
o The propagation time is calculated as:
Propagation time =	Dis tan ce
Pr opagationSpeed

* WAVELENGTH
o Another characteristic of a signal traveling through the TX Medium
o This concept binds the frequency of the signal to the propagation speed of medium
o It is customary to talk about wavelength when talking about TX of light in Optical Fiber



o The wavelength is the distance a simple signal can travel in one period
o The wavelength depends on both the frequency and the medium
-Wavelength = Propagation speed * period
-Wavelength = Propagation speed / frequency
* Shannon Capacity
In 1944, Claude Shannon introduced a formula to determine the theoretical highest data rate for a channel:
C = B log2 (1 + S/N) in bps
-B: bandwidth of the channel
-S/N: signal to noise ratio
Examples
* Extremely noisy channel

-	S/N ? 0
-	C = B log2 (1+0) = 0
* Telephone line
- Bandwidth is 3000 Hz, S/N ratio is 3162 (35 dB)
- C = 3000 log2 (1+3162) = 34,860 bps
Media Comparison
When evaluating the suitability of a particular medium to a specific application, 5 factors should be kept in mind:
* COST: This is the cost of materials plus installation
* SPEED: Speed is the max no. of bits per second that a medium can transmit reliably
-Speed varies with frequency, with physical size of medium and Transmission Equipment
* ATTENUATION: Tendency of EM signal to become weak or distorted over signal
* EM Interference: EMI is the susceptibility of the medium to external EM energy introduced into the link that interferes with the intelligibility of a signal
-Familiar effects of EMI are static(audio) and snow (visual)

* SECURITY: How easy it is for an unauthorized device to listen on the link?
-Twisted pair is intercept able
-Optical Fiber is more secure
Summary
* Transmission Impairments
* Performance of Transmission Medium
* Wavelength
* Shannon Capacity
* Media Comparison

Reading Sections
* Section 7.4, 7.5, 7.6. 7.7, "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan


Introduction

LECTURE #29

o Whenever the TX capacity of a medium linking 2 devices is greater than the TX needs of the devices, the link can be shared
o Example: Large Water pipe can carry water to several separate houses at once
o Multiplexing is the set of techniques that allows simultaneous TX of multiple signals across a single data link
o As data communication usage increases, traffic also increases
o We can add a new line each time a new channel is needed
o Or we can install higher capacity links and use each to carry multiple signals
o All current TX media i.e. Coax, Optical fiber have high available BWs
o Each of these has carrying capacity far in excess of that needed for one signal
o If TX capacity of a link is greater than the TX needs of devices attached to it, the excess capacity is wasted
Multiplexing
Set of techniques that allows the simultaneous transmission of multiple signals across a single data link"
In the multiplexed system, 'n' devices share the capacity of one link


o Fig. shows two possible ways of linking 4 pairs of device
o In fig. (a), each pair has its own link. If full capacity of each link is not utilized, it will be wasted
o In fig. (b), TX b/w pairs are multiplexed . The same 4 pairs share the capacity of single link
o Fig. (b) shows the basic format of a Multiplexed system
o The 4 devices on left direct their TX streams to a MUX , which combines them into a single stream
o At the receiving end, that stream is fed into a DEMUX, which separates the stream back into its component transmissions and directs them to their intended devices
* Path: Physical Link
* Channel: A portion of the path that carries TX b/w a given pair of devices
* One path can have many channels


* Categories of Multiplexing


> FDM
o An analog technique that can be applied when BW of the link is greater than the combined BW of the signals to be TX
o Signals generated by each sending device modulate difference carrier frequencies
o These modulated signals are then combined into a single Composite signal that can be transported by the link
o Carrier frequencies are separated by enough BW to accommodate the modulated signal
o These BW ranges are the channels through which the various signals travel
FDM (Guard Bands)
• GUARD BANDS: Channels must be separated by strips of unused BW (guard bands) to prevent signals from Overlapping


o In fig. the TX path is divided into 3 parts, each representing a channel to carry one TX
o As an analogy, imagine a point where 3 narrow streets merge to form a 3-lane highway

o Each of these streets correspond to a lane of the highway
o Each car merging on to the highway from one of these streets still has its own lane and can travel w/o interfering with cars from other lanes


The FDM Process-TIME DOMAIN

o Figure shows a Time domain fdm
o FDM is an analog process and we show it here in using Telephones as I/p & o/p devices
o Each telephone generates a signal of similar frequency range
o Inside the MUX, these similar signals are modulated on to different carrier frequencies
o The resulting modulated signals are then combined into a single composite signal that is sent over a media link that has enough BW to accommodate it


The FDM Process-Freq domain


o Fig is freq domain representation of FDM process
o In FDM, signals are modulated onto separate carrier frequencies (f1,f2,f3) using either FM or AM
o Modulating one signal into the other results in a BW of at least twice the original

o In fig, the BW of resulting composite signal is more than 3 times the BW of each input signal
o Plus extra BW to allow for necessary GUARD BANDS
* DEMULTIPLEXING
o DEMUX uses a series of filters to decompose multiplexed signal into its constituent signals
o Individual signals are then passed to a demodulator that separates them to the carriers and passes them to the waiting receivers

DEMULTIPLEXING (Time Domain)

This figure is the time domain representation of the FDM MUX again using 3 telephones as the communication devices




DEMULTIPLEXING (Freq Domain)

This figure is the time domain representation of the FDM MUX again using 3 telephones as the communication devices

Wave Division Multiplexing (WDM)
o It is conceptually the same as FDM except that multiplexing and demultiplexing involves light signals TX through fiber optic channels
o Idea is the same: We are combining different signals of the different frequencies
o However in this case frequencies are very high



o WDM MUX and DEMUX
o Very narrow bands of light from different sources are combined to make a wider band of light
o At the receiver are separated by DEMUX
> Mechanism of WDM
o Although the technology is very complex, the idea is very simple
o We want to combine multiple sources into one single light at the the MUX and do the reverse at the DEMUX

PRISM
o Combining and Splitting of light sources is easily handled by a PRISM
o From Physics, a prism can deflect the light depending upon the angle of incidence and the frequency

o 
o Using this technique, a MUX can be made to combine several input beams of light
each containing a narrow band of frequencies into one o/p beam of a wider band of frequencies
o The DEMUX can also be made to reverse the process
TDM
o TDM is a digital process that can be applied when the data rate capacity of the TX medium is greater than the data rate required by the sending and receiving devices

o In such case, multiple transmissions can occupy a single link by subdividing them and Interleaving the portions


In fig, same link is used as in FDM. However, here the link is shown sectioned by time rather than frequency In TDM fig, portions of signals 1, 2, 3 and 4 occupy the link sequentially

> Implementation of TDM
TDM can be implemented in two ways:
-Synchronous TDM
-Asynchronous TDM
> Synchronous TDM
o The term synchronous has a different from that used in other areas of telecommunication
o Here synchronous means that MUX allocates exactly the same time slot to each device at all device whether or not the device has any thing to transmit

> Synchronous TDM Example
o Time slot A for example is assigned to device A alone and cannot be used by any other device
o Each time its allocated time slot comes up a device has the opportunity to send a portion of its data
o If	a device is unable to transmit or does not have data to send time slot remains empty

> Synchronous TDM Frames
o Time slots are grouped into Frames
o A frame consists of one complete cycle of Time slots including one or more slots dedicated to each sending device
o In a system with 'n' I/p lines, each frame has atleast 'n' slots with each slot allocated to carrying data from a specific I/p line
o If all the I/p devices sharing a link are transmitting at the same data rate, each device has 1 timeslot per frame
o However it is possible to accommodate varying data rates
o A TX with two slots per frame will arrive twice as quickly as one with 1 slot per frame

o The time slots dedicated to a given device occupy the same location in each frame and constitute that device's channel
o In figure, we have 5 I/p lines Multiplexed onto a single path using synchronous TDM
o In this example all of the I/p's have the same data rate, so the number of time slots in each frame is equal to the number of I/p lines

Interleaving
o Synchronous TDM can be compared to a very fast rotating switch
o As the switch opens in front of a device, the device has the opportunity to send a specifies amount of data on to the path
o The switch moves from device to device at a constant rate and in a fixed order
o This process is called INTERLEAVING
o Interleaving can be done by BITS, BYTES or by any other DATA UNIT
o In other words MUX can take one byte from each device, then another byte from each device and so on
o In a given system interleaved units will always be of the same size

o Fig,, shows interleaving and frame building
o In the example we interleave the various TXs by character (equal to 1 byte each) but the concept is the same for data units of any length
o Each device is sending a different message
o The MUX interleaves the different and forms them into FRAMES before putting them onto the link
o At the receiver the DEMUX decomposes each frame by extracting each character

o As a character is removed from a frame, it is passed to the appropriate receiving device

Weakness of Synchronous TDM Figure
o Both figures point out major weakness in Synchronous TDM
o By assigning each timeslot to a specific I/p line, we end up with empty slots whenever not all the lines are active
o In figure only the first three frames are completely filled, The last 3 frames have a collective 6 empty slots
o Having 6 empty slots out of 24 means that a quarter of a capacity of the link is wasted
o Framing Bits
o Because the time slots order in a synchronous TDM does not vary from frame to frame, very little overhead information need to be included in each frame
o The order of receipt tells the DEMUX where to direct each time slot so no ADDRESSING is necessary


Demultiplexing Process
o Demultiplexer decomposes each frame by extracting each data unit in turn
o Weakness of synchronous TDM
-Waste of empty slots

Framing Bits
o Various factor however can cause timing inconsistencies.
o For this reason one or more synchronization bits are added to the beginning of each frame
o These bits called Framing bits follow a pattern frame to frame that allows a DEMUX to synchronize with the incoming stream so that it can separate time slots accurately
o This synch info consist of one bit /frame alternating b/w 0 and 1.




Synchronous TDM Example

Summary
* Multiplexing
* Frequency division multiplexing
* Wave division multiplexing
* Time division multiplexing

Reading Sections
* Section 8.1,8.2,8.3,8.4
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan


Bit Stuffing

LECTURE #30

o It is possible to connect devices of different data rates to synchronous TDM
o For Example, device A uses one time slot, while the faster device B uses two slots
o The Time slot length is FIXED
o Therefore data rates should be integer multiples of each other
o For example, we can accommodate a device that is 5 times faster than the other device by giving it five slots to one for each of the other devices
o We cannot accommodate a device which is five and a half times faster using this method because we cannot introduce half a time slot into a frame
o When the speeds are not integer multiples of each other, they can be made to behave as if they were
o This is done by a technique known as BIT STUFFING
o In bit stuffing, MUX adds extra bits to a device
o For Example, if we have one device with a bit rate of 2.75 times that of other devices, we can add enough bits to raise this rate to 3 times that of others
o The extra bits are then discarded by the Demultiplexer
Asynchronous TDM
o Synchronous TDM does not guarantee full utilization of the timeslots
o Because the time slots are fixed and pre assigned, whenever a connected device is not transmitting, the corresponding slot is empty and much of the channel capacity is wasted
o For Example, imagine that we have multiplexed the o/p of 20 identical computers onto a single line
o Using synchronous TDM, the speed of that line must be at least 20 times the speed of each i/p line
o But what if only 10 computers are in use at a time?
o Half of the capacity of the line is wasted
o Asynchronous TDM or Statistical TDM is designed to avoid this type of waste
o Asynchronous means flexible or Not fixed
o In an asynchronous system, if we have 'n' input lines, the frame contains no more than 'm' slots, where m is less than n

o In this way asynchronous TDM supports the same number of I/p lines as synchronous TDM with a lower capacity link
o A slot is available to any device that wants to send data
o MUX scans I/p lines, accepts data until a frame is filled and then sends the frame across the link


* Advantages of Asynchronous TDM
* Two major advantages:
-Ability to allocate time slots dynamically
-Lower ration of time slots to I/p lines
Above two factors greatly reduce the likelihood of a waste


o Fig. shows a system with 5 I/p lines sharing a link using Asynchronous TDM
o Frame size is 3 slots per frame
o Fig shows how MUX handles 3 levels of traffic
o In the first case, only 3 of the 5 computers have data to send
o In the second case, 4 lines are sending data

o In the third case, all devices are sending data
o In each case, MUX scans the devices in order from 1 to 5 filling encounters data to be sent
> Asynchronous TDM Figure 1

time slots as it

o In the first case, the 3 active i/p lines correspond to the 3 slots in each frame
o For the first 4 frames, the I/p is symmetrically distributed among all the devices.
o By the 5th frame however, devices 3 and 5 have completed their transmission but device 1 still has two characters to go

> Asynchronous TDM Figure 2

o The MUX picks up the A from device 1, scans down the line without finding another transmission and returns to device 1 to pick up the last A
o There being no data to fill the final slot, the MUX then fills the 5th frame with only 2 slots filled
o Compare with Synchronous TX: 6 frames of 5 slots each would be required=30 slots, 14 slots used only
o In second case, there is one more I/p line than there are slots in each frame
o This time MUX scans from 1 to 5 and fills up a frame before each of the lines are checked
o The first frame contains data from device 1, 3,and 4
> Asynchronous TDM Figure 3
o MUX continues the scan and puts first portion of 5th device into the first slot of next frame and so on
o When the number of active senders does not equal the number of slots in a frame, the time slots are not filled symmetrically
o Device 1 occupies the first slot in the first frame , 2nd slot in second frame and so on
o In the third case, frames are filled as shown above
o All 5 I/p lines are active
o In this case device 1 occupies the 1st slot in the first frame, the 3rd slot in the second frame and so on

Aspects of Asynchronous TDM
> Addressing and Overhead
o Case 2 & 3 above show a major weakness of Asynchronous TDM
o How does the DEMUX know which slot belongs to which output line?
o As opposed to Synchronous TDM, in this case, data from a given device might be in the first slot of one frame and in the third of the next
o Therefore, each time slot must carry an address telling the DEMUX how to direct data
o This address is for local use only attached by the MUX and detached by the DEMUX
o In the figure above address is specified by a digit
o Adding address bits to each time slot increase the overhead of an Asynchronous system and limits its efficiency
o Addresses usually consist of only a small number of bits
o Need for Addressing makes Asynchronous TDM inefficient for bit or byte interleaving
o Imagine bit interleaving with each bit carrying an address
o One bit of data plus 3 bits of address
o Asynchronous TDM is efficient only when the size of the time slot is kept relatively large
Inverse Multiplexing
o Opposite of Multiplexing
o Takes data from one high speed line and breaks it into portions that can be sent over several lower speed lines simultaneously

Why do we need Inverse Multiplexing?
o An organization wants to send data, voice and video each of which requires a different data rate
o To send voice it needs 64Kbps,
o To send data, it needs 128 Kbps link

o To send video it may need 1.544 Mbps link
o It can lease a 1.544 Mbps line from a common carrier and only use it fully for sometime
o Or it can lease several separate channels of lower data rates
o Voice can be sent over any of these channels
o Data & Video can be broken into smaller portions using Inverse Multiplexing and TX

* Multiplexing Application

THE TELEPHONE SYSTEM
o Multiplexing has long been used as an essential tool in the Telephone industry
o A country's telephone system may include various carriers that offer local and long-distance service
o These various carriers form a Telephone Network I.e. PTCL



* Each subscriber is connected to the telephone network as a service line
Summary
* Time Division Multiplexing
* Asynchronous TDM
* Inverse Multiplexing
* The Telephone System

Reading Sections
* Section 8.4,8.5 "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #31

Telephone Services



* Common carrier Services & Hierarchies

o Telephone companies began by providing their subscribers with ANALOG services using ANALOG networks
o Later digital services were introduced
o Nowadays carriers are even thinking about changing their service lines digital too
o Soon the entire n/w will be digital
o For now both types of services are available and both FDM and TDM are in use

* Analog Services
o Of the many analog services available to telephone subscribers, two are really important:
-Switched Analog Services
-Leased Analog Services
o Familiar dial up service most often encountered when using a home telephone
o Uses twisted pair cable to connect subscriber's phone to the network via exchange
o This connection is called LOCAL LOOP
o The n/w it joins is called PSTN
o Signal on a local loop is Analog and BW is usually b/w 0 and 4000 Hz
o 


Switched Analog Services
With switched lines, caller dials a number and call is conveyed to a series of switches at the exchange
The switch connects two lines for the duration of the call

Analog Leased Service
Offers customers the opportunity to lease a line, sometimes called a Dedicated Line
Dedicated line is permanently connected to the other customer Although the connection still passes through switches in the exchange, the customer experiences it as a single line because switch is always closed
No dialing is needed

Conditioned Lines
o Another service offered by the carriers
o Conditioning means improving the quality of a line by lessening attenuation, signal distortion or delay distortion
o Conditional lines are Analog but their quality makes them suitable for digital data communication when connected to Modems

Analog Hierarchy
o To maximize efficiency, telephone companies multiplex signal from lower BW lines onto higher BW lines
o In this way many switched or leased lines can be combined into fewer but bigger channels
o FDM is used for analog lines




* Digital Services
o Digital services are largely offered nowadays
o Digital services are less sensitive than analog ones
o Telephone line acts as an antenna and pick up noise both in case of analog and digital TX
o In analog, both noise and signal are analog
o In digital, signal can easily be separated



Types of Digital Services


Switched / 56 Service
It is digital version of Analog switched line Allows data rates of up to 56 Kbps
Both parties must subscribe to the service
A caller with normal telephone service cannot connect to a telephone or computer with this service even with a Modem

Because this service is already digital, subscribers do not need modems They need DSU (Digital service unit)
DSU changes the rate of digital data created by the subscriber's device to 56 Kbps and encodes it in the format used by service provider

DSU is often included in dialing process DSU is more expensive than Modem
So why would a subscriber pay for switched/56 service and DSU? Because digital line has better speed, better quality and less susceptibility to noise
Bandwidth on Demand

Digital Data Service (DDS) Digital version of analog leased line Max. data rate of 64 Kbps
Like switched/56, DDS requires a DSU
DSU for this service is cheaper than switched /56 DSU because it does not need a dial pad

Digital Signal (DS) Service
Telephone companies saw the need to develop a hierarchy of digital services much like those used for Analog services
The next step was DS service
DS is a hierarchy of digital signals



DS-0 resembles DDS. It is single digital channel of 64 Kbps
DS-1 is 1.544 Mbps service = 24 * 64 Kbps+8 Kbps of overhead DS-2 -->6.312 Mbps=96*64 Kbps + 168Kbps
DS-3 -->44.376 Mbps=672*64Kbps +1.368 Mbps of overhead DS-4 -->274.176Mbps4032 * 64 Kbps+ 16.128Mbps overhead




T Lines
o DS-0 DS1 are the names of the Services
o To implement those services, telephone companies use T-lines
o These are the lines with capacities matched to the data rates of DS-0 to DS-4

ServiceLine	Rate(Mbps)  Voice channels

DS-1T-11.54424DS-2T-26.31296DS-3T-344.736672DS-4T-4274.1764032Summary
* The Telephone System
* Analog Services
* Digital Services
* Fiber To The Curb (FTTC)

Reading Sections
* Section 8.5, "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan



T Lines

LECTURE #32

* T Lines for Analog Lines
o T Lines are digital lines designed for digital data
o However they can also be used for analog transmission (Telephone connections)
o Analog signals are first sampled and the Time Multiplexed


> T 1 Frame (Figure)
o DS-1 requires 8 Kbps of overhead
o To understand this overhead, lets examine format of a 24-voice channel frame
o Frame used on T-1 line is usually 193 bits divided into 24 slots of 8 bits each
   + 1 bit for synchronization (24*8+1=193)
o 24 segments are interleaved in one frame
o If a T-1 carries 8000 frames, the data rate is 1.544 Mbps (193 * 8000=1.544 Mbps) which is capacity of the line

> Fractional T Lines (Figures)
o Many subscribers do not need the entire capacity of the T line
o For example, a small business may need only one-fourth of the capacity of a T-1 line
o If four business of same size lie in same building, they can share a T-1 line
o DSU/CSU allow the capacity of T-1 line to be interleaved into 4 channels

E-Lines
* Europeans use a version of T-lines called E-lines
* Two are conceptually identical but capacities vary Line	Rate(Mbps)	Voice channels
E-12.04830E-28.448120E-334.368480E-4139.2641920Fiber to the Curb (FTTC)
* Optical fiber has many advantages:
-Noise Resistance
-High BW Capacity
* Very Expensive
* Telephone & Cable companies have devise FTTC to employ optical fiber while keeping the expense down
* Optical Fiber is the medium from the Central Office of the telephone company or from main office of a cable company to the Curb
* The medium from the Curb to the subscriber's premises if the less expensive twisted pair or coaxial cable

> FTTC in Telephone Network
o Optical Fiber is used to connect and multiplex different voice channels
o Copper twisted pair coming from individual premises is multiplexed in junction boxes and converted to optical signals. Optical signals are

multiplexed using WDM at switching office to create wider BW optical

> FTTC in Cable TV Network
o Cable TV uses optical fibers to connect and multiplex different cable channels
o Coaxial cables coming from individual premises are multiplexed in the junction box and converted to the optical signals
o Optical signals are multiplexed using WDM at switching office to create wider BW optical signals

ERROR DETECTION AND CORRECTION
Introduction
o Networks must be able to transfer data from one device to another with complete accuracy
o A system that cannot guarantee that the data received by one device is identical to the data transmitted by another device is essentially useless
o Anytime the data is TX from source to destination, it gets corrupted on the way
o Many factors including NOISE can alter or wipe out one or more bits of a given data unit
o Reliable systems must have a mechanism for detecting and correcting such ERRORS
o Error detection and Correction is implemented either at the data link layer or at the Transport layer

Types of Errors




o Whenever an EM signal flows from one point to the other, it is subject to unpredictable interference from heat, magnetism and other forms of electricity
o This interference can change the shape or timing of the signal
o If the signal is carrying encoded binary data, such changes can alter the meaning of the data
Summary
* T-Lines in Analog Transmission
* Fractional T-Lines
* E-Lines
* Fiber To The Curb (FTTC)
* Error Detection and Correction

Reading Sections
Section 8.5, 8.7, 9.1,
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #33
Types of Errors
* Single Bit & Burst
o In a single-bit error, a 0 is changed to a 1 or a 1 to a 0
o In a burst error multiple bits are changed
o For Example, a 0.01 second burst of impulse noise on a TX with a data rate of 1200 bps might change all or some of 12 bits of information

o The term single bit error means that only one bit of a given data unit (such as a byte, character, or a packet) is changed from 1 to 0 or from 0 to 1
o Figure shows the effect of a single bit error on a data unit
o ASCII character 000000010 (ASCII STX) is sent but 00001010 (ASCII LF) is received
o Single bit errors are the least likely type of error in serial data TX
o To see Why? Imagine a sender sends data at 1Mbps
o This means that each bit lasts only 1/1,000,000 seconds or 1 microsecond
o For single bit error to occur, the noise must have a duration of 1 microsecond which is very rare, noise lasts much longer than that
o However, single bit error can occur if we are sending data using parallel TX
o For Example, if 8 wires are used to send all of the eight bits of a byte at the same time and one of the wires is noise, one bit can be corrupted in each byte


* Burst Errors
* The term burst error means that two or more bit sin the data unit have changed from 1 to 0 or from 0 to 1

o Figure shows the effect of a burst error on a data unit
o In this case 0100010001000011 was sent but 0101110101000011 was received
o Note that a burst error does not necessarily mean that error occur in consecutive bits

o The length of the burst is measured from the first corrupted bit to the last corrupted bit
o Some bits in b/w may not have been corrupted
o Burst error is most likely to happen in a serial TX
o The duration of the noise is normally longer than the duration of a bit which means that when noise affects data, it affects a set of bits
o The number of bits affected depends on the data rate and duration of noise
o For example, if we are sending data at 1 Kbps, a noise of 1/100 seconds can affect 10 bits
o If we are sending data at 1 Mbps, the same noise can affect 10,000 bits
Error Detection
o Even if we know what type of errors can occur, will we recognize one when we see it?
o If we have a copy of the intended TX for comparison, of course we will
o But what if we don't have a copy of the original
o Then we will have no way of knowing we have received an error until we have decoded the TX and failed to make sense of it
o For a device to check for errors this way will be Costly and Slow
o We don't need a machine that decodes every thing and then sits and decides whether a specific word makes sense or not
o We need a mechanism that is Simple and Completely objective
> Redundancy
o One error detection mechanism that would satisfy these requirements would be to send every data unit twice
o The receiving device would then be able to do a bit-for-bit comparison b/w two TXs
o Any discrepancy will indicate an error and an appropriate error correction mechanism could be set in place
o This system will be completely Accurate because the odds of error affecting the same bits in both version will be infinitesimally small
o But this system will be extra ordinarily SLOW
o Not only will the TX time double, but the time it takes to compare two data units is also added up
o The concept of including extra information in the TX solely for the purpose of comparison is a good one
o But instead of repeating the entire data stream, a shorter group of bits may be appended to the end of each unit
o This technique is called REDUNDANCY because the extra bit are redundant to the information and are discarded as soon as the accuracy of TX has been determined




o Fig shows the process of using redundant bits to check the accuracy of data unit
o Once the data stream has been generated, it passes through a device that analyzes it and adds on an appropriately coded redundancy check
o The data unit now enlarged by several bits (7) travels over the link to the receiver
o The receiver puts the entire stream through a checking function
o If the received bit stream passes the checking criteria, the data portion of the data unit is accepted and the redundant bits are discarded

* Types of Redundancy Checks
o There are 4 types of redundancy checks used in data communication:
-Vertical Redundancy Check (VRC)
-Longitudinal Redundancy Check (LRC)
-Cyclic Redundancy Check (CRC)
-Checksum
o First 3 are normally implemented in the physical layer for use in data link layer
o Fourth is used by Upper layers


> Vertical Redundancy Check (VRC)
o Most common and least expensive
o Also called Parity Check
o A redundant bit called parity bit is appended to every data unit so that total number of 1's in the unit becomes even including the parity bit



* We want to TX the binary data unit 1100001
* Adding together the number of 1's gives us 3, an odd number
o Before TX, we pass the data unit through a parity generator, which counts the 1's and appends the parity bit (1) to the end
o The total number of 1's is now 4, an even number
o The system now transfers the entire expanded across the network link
o When it reaches its destination, the RX puts all 8 bits through an even parity checking function
o If the RX sees 11100001, it counts four ones, an even number and the data unit passes
o But what if the data unit has been damaged in transit?
o What if instead of 11100001, receiver sees 11100101?
o Then when the parity checker counts the 1's, it gets 5 an odd number
o The receiver knows that an error has occurred somewhere and therefore rejects the whole unit
o Some systems may also use ODD parity checking
o The principal is the same as even parity
* Example 9.1, 9.2, 9.3
Example 9.1
Sender wants to send "world" In ASCII, the five characters are coded as:
1110111w1110111 01101111o1101111 01110010r1110010 01101100l1101100 01100100d1100100 1
Example 9.2
* |  Suppose "world" is received by the receiver without being corrupted:

* Receiver counts the 1's and passes it
1110111w1110111 0	61101111o1101111 0	61110010r1110010 0	41101100l1101100 0	41100100d1100100 1	4
Example 9.3
* Suppose "world" is received by the receiver corrupted:

* Receiver counts the 1's and rejects it
1110111w1111111 0	71101111o1101111 0	61110010r1110110 0	51101100l1101100 0	4

* Performance of VRC
o VRC can detect all single bit errors
o Can also detect Burst errors as long as the total number of bits changed is ODD (1,3,5 etc)

Examples
* We have an Even Parity data unit where the total number of 1's including the parity bit is '6' : 1000111011
* If 3 bits change value resulting parity will be odd and an error will be detected: 1111111011: 1's = 9
* If 2 bits change value resulting parity will still be even and error will not be detected: 1110111011: 1's = 8
o VRC cannot detect errors when the total number of bits changed are even
o VRC checker will return a result of 1 and the data unit will be rejected
o The same hold true for any odd number of errors
o In the second case, VRC checker will check parity and will return an even number although the data unit contains two errors

o VRC cannot detect error when the number of bits changed is even
o If any two bits change in TX, the changes cancel each other and the data unit will pass a parity check even though the data unit is damaged
o Same holds true for any even number of errors

Summary
* Types of Errors
* Error Detection Techniques
* Redundancy
* Types of Redundancy Checks

Reading Sections
* Section 9.1, 9.2, 9.3
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #34
Error Detection And Correction Methods
* Longitudinal Red Check(LRC)
o In LRC, a block of bits is organized in a table (rows and columns)
o For example instead of sending 32 bits, we organize them in a table made of 4 rows and 8 columns


o We then calculate the Parity bit for each column and create a new row of 8 bits which are the parity bits for the whole block
o Note that the first parity bit in the 5th row is calculated based on all the first bits
o The second parity bit is calculated based on all the second bits and so on
o We then attach the 8 parity bits to the original data and send them to the receiver
Example 9.4
Suppose the following block is sent: 10101001
00111001
11011101
11100111

10101010  (LRC)
* It is hit by a burst of length 8 and some bits are corrupted:
10100011
10001001
11011101
11100111

10101010  (LRC)
* Receiver checks LRC, some of bits do not follow even parity rule and whole block is discarded

10100011
10001001
11011101
11100111

10101010  (LRC)

* Performance of LRC
o Burst errors can be detected more often
o As shown in the last example, an LRC of 'n; bits can easily detect a burst error of 'n' bits
o A burst error of more than 'n' bits is also detected by LRC with a very high probability
o One pattern of errors remain elusive
o If two bits in one data unit are changed and two bits in exactly the same place in another data unit are also damaged
For Example:
- Original data units
11110000
11000011
- Changed data units 01110001
01000010
* Cyclic Redundancy Check (CRC)
o Most powerful of checking techniques
o VRC and LRC are based on Addition
o CRC is based on Binary Division
o A sequence of redundant bits called CRC or CRC remainder is appended to
the end of the data unit, so that the resulting data unit becomes exactly
divisible by a second predetermined binary number
o At its destination, the data unit is divided by the same number
o If at this step, there is no remainder, the incoming data unit is assumed to be intact and is therefore accepted
o A remainder indicates that a data unit has been damaged and therefore must be rejected

Qualities of CRC
* To be valid the CRC must have two qualities:
-It must have exactly one less bit than the divisor

-Appending it to the end of the data must make the resulting bit sequence exactly divisible by the divisor



* First a string of n 0's is appended to the data unit
* The number 'n' is one less than the number of bits in the predetermined divisor, which is n+1 bits
* Secondly, newly elongated data unit is divided by the divisor using a process called binary division. The remainder resulting from this division is the CRC

* Third,the CRC of 'n' bits replaces the appended 0's at the end of the data unit
* Note that CRC may consist of all zeros
* The data unit arrives at the receiver followed by the CRC
* The receiver treats the whole string as a unit and divides it by the same divisor that was used to find the CRC remainder
* If string arrives without an error, the CRC checker yields a remainder of zero and data unit passes
* If the string has been changed in transit, the division yields a non-zero remainder and the data unit does not pass
The CRC Generator
* Uses Modulo-2 Division


The CRC Checker
* Functions exactly like CRC Generator



Polynomials
o CRC generator ( the divisor) is most often represented not as a string of 1's and 0's but as an algebraic polynomial
o The polynomial format is useful for two reasons:
-It is short
-Can be used to prove the concept mathematically
Selection of a Polynomial
o A polynomial should have the following properties:
-It should not be divisible by 'x'
-It should be divisible by 'x+1'

* The first condition guarantees that all burst errors of a length equal to the degree of the polynomial are detected
* The 2nd guarantees that all burst errors affecting an odd number of bits are detected


Popular Polynomials for CRC

* Performance of CRC
o CRC can detect all burst errors that affect an odd number of errors
o CRC can detect all burst errors of length less than or equal to the degree of the polynomial
o CRC can detect with a very high probability burst errors of length greater than the degree of the polynomial
Example 9.6


* The CRC-12 (
* It will detect

x 12

? x 11

? x 3 ?

x ? 1


) has a degree of 12

- All burst errors affecting odd no. of bits
- All burst errors with a length equal to or less than 12
- 99.97 % of the time burst errors with a length of 12 or more

Summary
* Types of Redundancy Checks
* Longitudinal Redundancy Check (LRC)
* Cyclic Redundancy Check (CRC)

Reading Section
* Section 9.4, 9.5
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #35
Error Correction And Detection Method
* CHECKSUM
o Error detection method used by the Higher Layers
o Like VRC, LRC, CRC, Checksum is also based on the concept of redundancy
One's Complement
Finding one's complement
- Invert every 1 to 0 and 0 to 1
- A and -A are one's complement of each other
-	+A = 1010 ? -A = 0101
-	+0 = 0000 ? -0 = 1111
o Error detection method used by the Higher Layers
o Like VRC, LRC, CRC, Checksum is also based on the concept of redundancy
> CHECKSUM Generator

o The sender subdivides data units into equal segments of 'n' bits(16 bits)
o These segments are added together using one's complement
o The total (sum) is then complemented and appended to the end of the original data unit as redundancy bits called CHECKSUM
o The extended data unit is transmitted across the network
o The receiver subdivides data unit as above and adds all segments together and complement the result
o If the intended data unit is intact, total value found by adding the data segments and the checksum field should be zero
o If the result is not zero, the packet contains an error & the receiver rejects it
Checksum Figure



* Performance of Checksum
o Detects all errors involving an odd number of bits
o Detects most errors involving an even number of bits
o One pattern remains elusive
Examples Example 9.7
* Suppose a block of 16 bits need to be sent: 10101001 00111001 10101001
00111001

11100010	Sum
00011101	Checksum
* Sent pattern:
10101001 00111001 00011101
checksum

Example 9.8
* Examples of no error and a burst error

Segment 110101001 Segment110101111Segment 200111001 Segment211111001Checksum00011101 Checksum00011101Sum
11111111 Sum11000110Complement00000000 Complement00111001





* Error is invisible if a bit inversion is balanced by an opposite bit inversion in the corresponding digit of another segment
Segment1	10111101

Segment2	00101001
Checksum	00011001

Sum	11111111
?	The error is undetected
ERROR CORRECTION
o Mechanisms that we have studied all detect errors but do not correct them
o Error correction can be done in two ways:
-Receiver can ask Sender for Re- TX
-Receiver can use an error-detecting code, which automatically correct certain errors
o Error correcting code are more sophisticated than error detecting codes
o They require more redundancy bits
o The number of bits required to correct multiple -bit or burst error is so high that in most cases it is inefficient

o Error correction is limited to 1, 2 or 3 bit
* Single-bit Error Correction
* Simplest case of error correction
o Error correction requires more redundancy detection
o One additional bit can detect single-bit errors
* Parity bit in VRC





bits than error







Hamming Code
Redundancy Bits (r)
* 
One bit for two states: error or no error
o To correct the error, more bits are required
* Error correction locates the invalid bit or bits
* 8 states for 7-bit data: no error, error in bit 1, and so on
* Looks like three bits of redundancy is adequate
* What if an error occurs in the redundancy bits?

o r must be able to indicate at least m+r+1 states
o m+r+1 states must be discoverable by r bits
o Therefore, 2r ? m+r+1
o If m=7, r=4 as 24 ? 7+4+1


Hamming Code
* Each r bit is the VRC bit for one combination of data bits
* r1(r2) bit is calculated using all bit positions whose binary representation includes a 1 in the first(second) position, and so on

Summary
* Checksum
* Single-Bit Error Correction
* Hamming Code

Reading Sections
* Section 9.6, 9.7, "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #36
Hamming Code
Redundancy Bits (r)
o r must be able to indicate at least m+r+1 states
o m+r+1 states must be discoverable by r bits
o Therefore, 2r ? m+r+1
o If m=7, r=4 as 24 ? 7+4+1

Hamming Code
* Each r bit is the VRC bit for one combination of data bits
* r1(r2) bit is calculated using all bit positions whose binary representation includes a 1 in the first(second) position, and so on









Data Link Layer
Introduction
o Unless accurately received by a 2nd device, a signal TX over a wire is a waste of electricity
o With TX alone, we can put a signal to the line, but we have
-no way of controlling which of several devices attached to that line will receive it
-no way of knowing if the intended receiver is ready and able to receive it
-No way of keeping a second device from TX at the same time
o Communication requires at least 2 devices working together:
-Sender
-Receiver
o Even such a basic arrangement requires great deal of coordination
o For Example, in Half Duplex TX, it is essential that only one device TX at a time
o If both device TX, the signals will collide leaving nothing on the line but Noise
o The coordination of half-duplex TX is a part of a procedure called Line Discipline, which is one of the functions included in the second layer of OSI Model, the data link layer

o In addition to Line Discipline, the most important functions in the data link layer are Flow Control and Error Control
o Collectively these functions are called Data Link Control

* Data Link Layer & its Functions


* Data Link Control

> Line Discipline:
- Coordinates the link systems, which device can send and when it can send?
> Flow Control:
-The amount of data that can be sent before the receiving acknowledgement
-It also provides the receiver's acknowledgement for frames received intact and so is linked to error control

> Error Control:
-Means Error detection and Correction
-It allows the receiver to inform the sender of any frames lost or damaged in TX and coordinates Retransmission of those frames by the sender

> Line Discipline
o How efficient the system is, no device in it should be allowed to transmit until that device has the evidence that the intended receiver is:
-able to receive
-is prepared to accept the TX
o What if the Rx device does not expect a transmission or is busy

o With no way of determining the status of the intended receiver, the transmitting device may waste its time sending data to a non-functioning receiver

o The Line Discipline functions of the data link layer oversee:
- the establishment of links and
-The right of a particular device to transmit at a given time
* Ways to do Line Discipline
Line Discipline is done in 2 ways:
* Enquiry / Acknowledgement (ENQ/ACK)
-Used in Peer-to-Peer Communication
* Poll / Select
-Primary-Secondary communication

Summary
* Hamming Code
* Data Link Control
* Line Discipline
- ENQ/ACK
- POLL/SELECT
* Flow Control

Reading Sections
Section 9.7, 10.1 "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #37
Line Discipline

Enquiry / Acknowledgement (ENQ/ACK)
o Used primarily in systems where there is no question of wrong receiver getting the transmission
o In other words when there is a Dedicated Link b/w the two devices so that the only device that can receive data is the intended one
o Enquiry / Acknowledgement (ENQ/ACK)
o ENQ/ACK coordinates who may start a transmission and whether or not the intended recipient is ready and enabled
o Using ENQ/ACK, a session can be initiated by either station on a link as long as both are of equal rank- a printer for example cannot initiate communication with a CPU
o Enquiry / Acknowledgement (ENQ/ACK)
o In both half duplex and full duplex TX, the initiating device establishes the session
o In half-duplex, the initiator then sends its data while the responder waits
o The respondent may take over the link when the initiator is finished or has
requested a response
o In full duplex, both the devices can TX simultaneously once the link has been established

How It Works?
o The receiver must answer either with an acknowledgement (ACK) frame if it is ready to receive or with a negative acknowledgement ( NAK), if it is not
o By requiring a response, even if the answer is negative, the initiator knows that his enquiry was in fact received even if the receiver is currently unable to receive
o If neither an ACK or a NAK is received within a specified time limit, the initiator assumes that an ENQ frame was lost in transit, it disconnects and sends a replacement
o An initiating system ordinarily makes 3 such attempts before giving up
o If the response to the ENQ is negative for 3 attempts, the initiator disconnects and begins the process again at another time
* If the response is positive the initiator is free to send its data



o The initiator first transmits a frame called an enquiry (ENQ) asking if the receiver is available to receive data
o Once all of its data have been transmitted, the sending system finishes with an End of Transmission (EOT) frame
* Poll / Select
Primary-Secondary communication
o This method works with topologies where one device is designed as a Primary station and the other devices are Secondary stations
o Multipoint systems must coordinate several nodes, not just two
o The questions are not only Are you Ready? But also Which of the device has the right to use the channel
o Whenever a multipoint link consists of a primary device and multiple secondary devices using a single TX line , all exchanges must be made through the primary device even when the ultimate destination is a secondary device
o The primary device controls the link and the secondary device follow sits instruction
o It is up to the primary to determine which device is allowed to use the channel ata given time
o The primary therefore is always the initiator of the a session
* If the primary wants to receive data, it asks the second-arise if they have anything to send, This is called POLLING
* If the primary wants to send data, it tells the target secondary to get ready to receive, This function is called SELECTING



ADDRESSING
o For point-to-point configuration, there is no need for addressing
o Any TX put onto the link by one device can be intended only for the other
o For the primary device in a a multipoint topology to be able to identify and communicate with a specific secondary device, there must be some addressing convention
o For this reason, every device on the link has an address that can be used for identification
o In any transmission, this address will appear in a specified portion of each frame, called the Address Field or Header depending upon the protocol
o If the TX comes from a secondary device, the address indicates the originator of the data
> SELECT
o The select mode is used whenever the primary device has something to send
o Primary control the link and if primary is not sending or receiving data, it knows that the link is available
o If it has something to send, it sends it
o As a frame makes its way to the intended device, each of the other devices check the address field
o Only when the device recognizes its own address, does it open the frame and read the data
o In case of a SEL frame, the enclosed data consists of an alert that data is forthcoming
o What it does not know, however is if the target device it ready to receive (ON)
o So the primary must alert the secondary to the upcoming TX and wait for an acknowledgement of the secondary ready status
o Primary send a SEL frame, one field of which includes the address of the intended RX
o If the secondary is awake and running, it returns an ACK frame to the primary
o The primary then sends one or more data frames , each addressed to the intended secondary



> POLL
o Used by the primary device to receive transmissions from the secondary devices
o The secondaries are not allowed to TX data until asked
o By keeping control with the primary, the multipoint system guarantees that only one TX can occur at a time
o When the primary is ready to receive, data , it must ask (POLL) each device in turn if it has anything to send
o When the first secondary is approached, it responds either with a NAK frame if it has nothing to send or with data if it does
o If the response is negative, primary then polls the next secondary
o When the primary has received data, it acknowledges by sending an ACK
* Two possibilities for termination:
-A secondary sends all its data and finishes with EOT frame
-Primary says " Time is Up"


* Flow Control -Definition
* 2nd aspect of data link control is Flow Control
* In most protocols, flow control is a set of procedures that tells the sender how much data it can transmit before it must wait for an ACK from the receiver
* The flow of data must not be allowed to overwhelm the receiver
Summary
* Line Discipline
-ENQ/ACK
-POLL/SELECT
* Flow Control
- Stop-and-Wait
- Sliding Window

Reading Sections
Section 10.1,10.2 "Data Communications and Networking" 4th Edition by Behrouz
A. Forouzan

LECTURE #38

Flow Control- Explanation

o Any receiving device has a limited speed at which it can process incoming data and a limited amount of memory in which to store incoming data
o The receiving device must be able to inform the sending device before those limits are reached and to request that the TX device send fewer frames or stop temporarily

* Flow Control-Buffer
o Incoming data must be processed and checked before it can be used
o The rate of such processing is often slower than the rate of TX
o So, each receiving device has a block of memory called BUFFER, reserved for storing incoming data until it is processed
o If the buffer begins to fill up, the receiver must be able to tell the sender to halt the TX until it is once again able to receive

Methods for Flow Control

o Two methods have been developed to control the flow of data across communication links :
> Stop and Wait
> Sliding Window
> Stop and Wait
In this method, the sender waits for an ACK after every frame it sends



o Only when an ACK has been received, is the next frame sent
o This process of alternately sending and waiting repeats until the sender transmits an EOT frame
Example: Officer giving dictation to the Typist, He says a word, typist says OK, he says the next word, typist says OK and so on
* Advantages of Stop and Wait
* SIMPLICITY
-Each frame is checked and acknowledged before the next frame is sent
* Disadvantages of Stop and Wait
* INEFFICIENT ( Slow)
o Each frame must travel all the way to the receiver and an ACK must travel all the way back before the next frame can be sent
o If the distance b/w devices is long, the time spent waiting for ACKs between each frame can be significantly long

* Sliding Window
o In this method, sender can transmit several frames before needing an ACK
o Frames can be sent one right after another meaning link can carry several frames at once and its capacity can be used efficiently
o The receiver uses a single ACK to confirm the receipt of multiple data frames
o Sliding Window refers to imaginary boxes at both the sender and the receiver
o This window can hold frames at either end and provides the upper limit on the number of frames that can be sent before requiring an ACK
o Frames may be ACK at any point w/o waiting for the window to fill up and may be TX as long as the window is not yet Full
o To keep track of which frames have been transmitted and which received, sliding window introduces an identification scheme based on the size of the window
o The frames are numbered modulo-n means from 0 to n-1
o If n=8, frames are numbered 0,1,2,3,4,5,6,7,0,1,2,3,4,5,6,7,0,....

o When the receiver sends the ACK, it includes the number of the next frame it expects to receive
o 
* For example, to ACK the receipt of a string of frames ending in frame 4, the receiver sends an ACK with number 5
* The window can hold n-1 frames at either end, therefore a max of n-1 frames may be sent before an ACK is required


* At the beginning of a TX, sender's window contains n-1 frames
* As frames are sent out, the left boundary of window moves inward, shrinking the size of the window
* When an ACK is received, the window expands to allow in a number of new frames equal to the number of frames acknowledged by that ACK

* At the beginning of TX, the receiver window contains n-1 spaces for frames
* As new frames come in, the size of the receiver window shrinks

* The receiver window therefore does not show the frames that are received but the frames that may still be received before an ACK is sent

* ERROR CONTROL
Refers primarily to error detection and correction

* AUTOMATIC REPEAT REQUEST (ARQ)
Error control in data link layer is implemented simply:
-Anytime an error is detected in an exchange, a negative acknowledgement (NAK) is returned and the specified frames are retransmitted
Categories of Error Control


Stop and Wait ARQ
o It is a form of stop-and-wait flow control extended to include retransmission of data in case of Lost or Damaged frames
o For retransmission to work, 4 features are added to the basic flow control mechanism
o Sending device keeps a copy of the last frame transmitted until it receives the ACK for that frame
o Both data and ACK frames are numbered 0 and 1 alternately
o A data 0 frame is acknowledged by a ACK 1 frame indicating that the receiver has received data 0 and is now expecting data 1
o Sending device keeps a copy of the last frame transmitted until it receives the ACK for that frame
o Both data and ACK frames are numbered 0 and 1 alternately
-A data 0 frame is acknowledged by a ACK 1 frame indicating that the receiver has received data 0 and is now expecting data 1
* If an error is discovered in a data frame an NAK frame is returned NAK frames which are not sent tell the sender to retransmit the last frame
* The sending device is equipped with Timer. If an expected ACK is not received within an allotted time period, the sender assumes that the last frame sent is lost and resends the frame


* Damaged Frame


* Lost Frame
Any of the 3 frame types can be lost in transit:

> Lost Data Frame
> Lost ACK Frame
> Lost NAK Frame




* Lost ACK, NAK Frame










?
Summary
* Flow Control
-Stop-and-Wait-
-Sliding Window
* Error Control

Reading Sections
Section 10.2, 10.3 "Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #39
SLIDING WINDOW ARQ
Among several popular mechanisms for error control two protocols are important:
> Go-back-n ARQ
> Selective Reject ARQ

Three features are added to sliding window flow control to allow for the retransmission of the lost or the damaged frames:

o The sending device keeps copies of the transmitted frames until all of them have been acknowledged
o In addition to ACK frames, receiver also has the option of NAK frames, if data has been received damaged
o Because sliding window is a continuous TX mechanism, both ACK and NAK frames must be numbered for identification

* ACK frames carry the number of the next frame expected
* ACK 5 tells sender that all frames up to frame 5 are received
* NAK frames carry the number of the damaged frame itself
* If data frames 4 and 5 are damaged, NAK 4 and NAK 5 must be sent
o Like sender in stop-and wait ARQ, the sliding window ARQ is also equipped with a timer in the sender to deal with lost ACKs

* Go Back n ARQ
In Go Back n ARQ, if one frame is lost or damaged, all frames sent since last frame acknowledged are retransmitted
Go Back n- Damaged Frame

> Go Back n- Lost Data Frame
o Sliding window requires that data frames be transmitted sequentially

o If one or more frames are so noise corrupted that they become lost in transit, the next frame to arrive at the receiver will be out of sequence


> Go Back n- Lost ACK
o When the window capacity is reached and all frames allowed have been sent, the sender starts a Timer

o If an ACK is not received before that Timer expires, sender retransmits all the frames since the last ACK




* Selective Reject ARQ
o In selective-reject ARQ, only the specific damaged or lost retransmitted


frame  is

o If a frame is corrupted in transit, a NAK is returned and the frame is resent out of sequence

o The Rx device must be able to sort frames and insert the retransmitted frame into the proper place

The selective reject ARQ differs from Go Back n in the following ways:
o The Rx device must contain sorting logic to enable it to reorder frames received out of sequence
o Sending device must contain a searching mechanism that allows it to find and select only the requested frame for retransmission
o Selective Reject ARQ
o A buffer in the receiver must keep all previously received frames on hold until all retransmissions have been stored

o To avoid selectivity, ACK number, like NAK numbers must refer to frame received instead of next expected frame
o A smaller window size is required because of this added complexity







> Selective Reject ARQ-Lost Frame

Lost ACK/NAK are treated exactly in the same way as by Go Back n

Selective Reject ARQ vs Go Back n

o Although retransmitting only specific damaged or lost frames may seems more efficient than resending all the frames

o Because of the complexity of sorting and storage required by the receiver and extra logic needed by sender to select specific frames for retransmission, selective reject ARQ is EXPENSIVE and not often used
o Selective reject gives better performance but in practice it is usually it is discarded in favor of go-back-n for simplicity of implementation

Protocols
Protocol: Set of rules or conventions for executing a particular task

Protocol in Data Comm.: Set of rules or specifications used to implement one or more layers of the OSI Model

Example: EIA 232-D interface is a protocol used at the physical layer in the OSI Model Protocols
Data Link Protocols: Set of specifications used to implement the data link layer Data link protocols contain rules for:
-Line Discipline
-Flow Control
-Error Control
Categories of Data Link Protocols
Data link protocols can be divided into two sub-groups:

Asynchronous Protocols: Treat each character in a Bit stream independently
Synchronous Protocols: Take the whole bit stream and chop it into characters of equal Size

> Asynchronous Protocols
Employed mainly in Modems

Inherent Slowness is a disadvantage: Requires addition of start and stop bits and extended spaces b/w frames, so these are mainly replaced with High-speed synchronous mechanisms


Not Complex and Inexpensive to Implement
 Transmission does not require timing coordination; Timing is done by using extra bits

* Different Asynchronous Protocols
A variety of Asynchronous protocols have been developed We will discuss some of the important ones
* XMODEM
In 1979 Ward Christiansen designed a File transfer protocol for Telephone-line communication b/w PCs called XMODEM

Half Duplex and Stop-and-Wait ARQ protocol


XMODEM
o The first field is a One Byte start of header (SOH) field
o The second field is a two-byte Header.
-The first header byte , the Sequence number carries the Frame number
-The second header byte is used to check the validity of the sequence number
o The fixed data field holds 128 bytes of data
o The last field CRC checks for errors in the data field only

Transmission in XMODEM
o TX begins with sending of a NAK frame from the receiver to the sender
o Each time, the sender sends a frame, it must wait for an ACK before sending next frame

o If NAK is received instead of ACK, the last frame is sent again
o A frame is also resent if no response arrives from a receiver after a fixed time period
o A sender can also receive cancel (CAN) to abort TX
Control Frames in XMODEM
Control frames from the receiver
-ACK: Acknowledgement
-NAK: Error or start of transmission
-CAN: Aborts the transmission


Summary
* Error Control
-Stop-and-Wait ARQ
-Sliding Window ARQ
• Go-back-n
• Selective Reject
* Data Link Protocols
Reading Sections
* Section 10.3, 11.1,
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #40
YMODEM
YMODEM is similar to X-MODEM with only the following major differences:

o 1024-Byte data unit
o Two CANs to abort Transmission
o ITU-T CRC-16 for Error Checking
o Multiple files can be sent simultaneously
ZMODEM
• Newer Protocol
• Combines features of
- XMODEM
and
- YMODEM
BLAST
o Blocked Asynchronous Transmission
o More powerful than XMODEM
o Full Duplex
o Sliding Window Flow Control
o Allows transfer of Data and Binary Files
KERMIT
o Designed at Columbia University
o Most Widely used Asynchronous Protocol
o File Transfer protocol is similar in operation to XMODEM, with sender waiting for an NAK before it starts TX
o Kermit allows the transmission of control characters as Text
Synchronous Protocols
Speed of synchronous TX makes it a better choice over Asynchronous T for LAN, MAN and WAN technology


Classes of Synchronous Protocols
Synchronous Protocols can be divided into two main classes:

> Character - Oriented Protocols
> Bit - Oriented Protocols

Character - Oriented Protocols
o Also called Byte- Oriented Protocol
o These protocols interpret a transmission frame or packet as a succession of characters, each usually composed of one byte
o All control information is in the form of an existing character encoding system
Bit - Oriented Protocols
These protocols interpret a transmission frame or packet as a succession of
individual bits, made meaningful by their placement in the frame
Control information can be one or multiple bits depending on the information embodied in the pattern

o Character -Oriented Protocols are not as efficient as bit - oriented protocols and are seldom used
o They are easy to comprehend and employ the same logic as bit-oriented protocols
o Their study will provide the basis for studying the other data link layer protocols
o In all data link protocols, control information is inserted in the data frame as separate control frames or as addition to existing data frames
o In character oriented protocols, this info is in the form of code words taken from
existing character sets such as ASCII
o IBN's BSC is the best known character oriented protocol

Binary Synchronous Communication (BSC)
o Developed by IBM in 1964
o Usable in both point-to-point and multiple communications
o It supports half-duplex TX using stop-and-wait ARQ flow control
o Does not support full duplex TX or sliding window protocol


BSC FRAMES
• BSC protocol divides a transmission into frames
CONTROL FRAMES
o If a frame is used strictly for control purposes, it is called a Control frame
o Control frames are used to exchange information b/w communicating devices for example, to establish the connection, to control the flow, to request error correction etc

DATA FRAMES

o If a frame contains part or all of the message itself, it is called a Data Frame
o Data frames are used to transmit information, but may also contain control
information applicable to that information

o Figure shows the format of a simple data frame
o Arrow shows the direct of TX
o The frame begins with two or more synch. (SYN) characters
o These characters alert the receiver to the arrival of a new frame and provide a bit pattern used by the receiving device to synch itself with that of the sending device
o After the two synch characters, comes a start of text (STX) character
o This character signals to the receiver that the control information is ending and the next byte will be data
o Data or text can consist of varying number of characters
o An end of text (ETX) indicates the end of text
o Finally, the Block Check Count (BCC) are included for error correction
o A BCC field can be a one-character LRC or a two -character CRC


Data Frame with Header
• A frame as simple as above is seldom used
• Usually we need to include the address of the receiving device,



the address of the

sending device and the identity number of the frame (0 or 1) for stop-and-wait ARQ

o All the above information is included in a special field called Header
o Header begins with start of the header (SOH) character
o The header comes after the SYNs and before the STX character
o Everything received after the SOH field but before STX character is the Header information

Multiblock Frame



The probability of an error in the block of text increases with the length of the frame
o The more bits in a frame, the more are the chances of an error
o For this reason, text in a message is often divided b/w several blocks
o Each block starts with STX and ends with ITB, intermediate text block except the last one
o Last block ends with ETX character
o After the ETX has been reached, and the last BCC checked, the receiver sends a single ACK for the entire frame
o The figure includes only 2 blocks but actual frames can have more than two
o Some messages may be too long to fit in a frame
o Several frames can carry continuation of a single message
o To let the Rx know that the end of frame is not the end of transmission, the ETX character in all the frames but the last one is replaced by an End of Transmission block (ETB)
o The receiver must acknowledge each frame separately
Multi Frames

Control Frames
o A control frame is used by one device to send commands to or to get information from another device
o A control frame contains control characters but no data
o It carries information specific to the functioning of the data link layer itself



Control frames serve 3 purposes:

- Establishing Connections
- Maintaining Flow and Error Control during Data Transmission
- Terminating Connection

Summary
* Data Link Protocols
* Asynchronous Protocols
* Synchronous Protocols
Reading Sections
* Section11.1, 11.2
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #41
Bit-Oriented Protocols
o In character-oriented protocols, bits are grouped into predefined patterns forming characters
o By comparison, bit-oriented protocols can pack more information into shorter frames



A lot of bit-oriented protocols have been developed over the years:

o One of these HDLC is the design of the ISO and has become the basis for all bit- oriented protocols in use today
• In 1975, IBM gave Synchronous Data Link Control (SDLC)
• In 1979, ISO answered with High Level Data Link Control (HDLC)
o Since 1981, ITU-T has developed a series of protocols called Link Access Protocols
o LAPs: LAPB, LAPD, LAPM, LAPZ etc. all based on HDLC

HDLC is basis for all protocols, so we will study it in detail:

High Level Data Link Control (HDLC)
o Bit-oriented data link protocol designed for:
- Full Duplex and Half Duplex
- Point-to-point And Multipoint Links
Characterization of HDLC
HDLC can be characterized by:
-Station Types
-Configurations
-Response Modes

STATION TYPES (1)
HDLC differentiates b/w 3 types of stations:
- Primary Station

- Secondary Station
- Combined Station

STATION TYPES (2)

Primary Station
o Primary station works in the same way as primary devices in the discussion of flow control
o The primary is a device in point-to-point or multipoint line configuration that has complete control of the link


STATION TYPES (3)

Secondary Station
o The primary sends commands to the secondary stations
o A primary issues commands and a secondary issues responses
STATION TYPES (4)
Combined Station
o A combined station can both command and respond
o A combined station is one of a set of connected peer devices programmed to behave either as a primary or as a secondary depending on the nature and the direction of the transmission

Configuration (1)
o Configuration refers to the relationship of the hardware devices on a link
o Primary , secondary and combined stations can be configured in three ways:
> Unbalanced Configuration
> Symmetrical Configuration
> Balanced Configuration

Configuration (2)
Unbalanced Configuration
o Also called Master/Slave Configuration
o One device is a primary and others are secondary
o Unbalanced configuration can be point to point if only two devices are involved

o Most of the times secondaries
Configuration (3)

it is multipoint with one primary controlling several

Symmetrical Configuration
o Each physical station on a link consists of two logical stations, one a primary and the other a secondary
o Separate lines link the primary aspect of one physical station to the secondary aspect of another physical station

Configuration (4)
Balanced Configuration
o Both stations in a point-to-point topology are of combined type
o HDLC does not support balanced multipoint
Station Types & Configurations

Modes
o A mode in HDLC is the relationship b/w two devices involved in an exchange
o The mode describes who controls the link
o HDLC supports 3 modes of communication b/w stations:
-Normal Response Mode (NRM)
-Asynchronous Response Mode (ARM)
-Asynchronous Balanced Mode (ABM)


Normal Response Mode (NRM)
o Refers to the standard primary-secondary relationship
o Secondary device must have permission from primary device before transmitting
o Once permission has been granted, the secondary may initiate a response transmission of one or more frames containing data

Asynchronous Response Mode (ARM)
o A secondary may initiate a TX w/o permission from the primary whenever the channel is idle
o ARM does not alter the primary secondary relationship in any other way
o All transmissions from the primary still go to the secondary and are then relayed to the other devices

Asynchronous Balanced Mode (ABM)
o All stations are equal and therefore only combined stations connected in point-to- point are used
o Either combined station may initiate TX with the other combined station w/o permission
HDLC Frames


HDLC defines 3 types of Frames:
- Information Frames (I-Frames)
- Supervisory Frames (S-Frames)
- Unnumbered Frames(U-Frames)

I-Frames are used to transport user data and control information relating to user data
S-Frames are used only to transport control information
U-Frame are reserved for System Management


Each frame in HDLC may contain up to six fields
-A beginning Flag Field
-An address field
-A control field
-An information Field
-A frame check sequence (FCS)
-An ending Flag Field

Flag Field

• The flag field of an HDLC frame is an 8-bit sequence with a bit patter 01111110 that identifies both the beginning and the ending of the of a frame
• It serves as a Synchronization pattern for the receiver
• Fig. shows placement of 2 flag fields in an I-Frame
HDLC Address Field















o The second field of HDLC frame contains the address of the secondary station that is either the originator or the destination of the frame
o If a primary station creates Frame it includes a 'To' address and if a secondary creates the frame, it contains a 'From' address
o Can be of one byte or several bytes depending upon the network
o If the address field is only 1 byte, the last bit is always a 1
o If the address is of several bytes, all bytes but the last one will end with 0 , and the last will end with a 1
o Ending each intermediate byte with 0 indicates to the receiver that there are more address bytes to come


HDLC Control Field


o The control field is a one o two byte segment of the frame used for flow management
o The two byte case is called the Extended Mode
Control fields differ depending on the frame type:
- If the control field is a 0, the frame is an I-Frame
- If the first bit is 1 and the second bit is a 0 , it is S-Frame
- If both first and second bits are 1's, it is U-Frame
o P/F bit is a single bit with dual purpose
o It has meaning only when it is '1' and it can mean Poll or Final
o When the frame is sent by a primary to secondary, it means POLL
o When the frame is sent by a secondary to a primary, it is FINAL
HDLC Control Field -EXTENDED

o Control field in the I-Frame and S-Frame is two bytes long to allow seven bits of sending and receiving sequence
o However the control field in the U-Frame is still one byte



o Information field contains the user's data in an I-Frame and Network Management information in a U-Frame
o An S-Frame has no information field
o Its length can vary from one network to another but remains fixed within each network
o It is possible to send Control information in the information field of the I-Frame along with data.
o This process is called Piggybacking

o The FCS is HDLC's error detection field
o ?
o It can contain a two- or four byte CRC






Link Access Procedures
> LAPB
-Link access procedure, balanced
> LAPD
-Link access procedure for D- channel
> LAPM
-Link access procedure for modems
Summary
* Synchronous Protocols
-Bit-Oriented Protocols
• HDLC
* Link Access Protocols (LAPs)

Reading Sections
* Section11.4, 11.5
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan



Local Area Network

LECTURE #42


A local area network is a data communication system that allows a number of independent devices to communicate directly with each other in a limited geographical area

Architectures for LANS
Dominated by 4 architectures:

o Ethernet, Token Bus, Token Ring --> Standards of IEEE and a part of its Project 802
o Fiber Distributed Data Interface (FDDI) --> ANSI Standard
LAN compared with OSI
o In 1985, the computer society of IEEE started a project called PROJECT 802 to set standards to enable intercommunication b/w equipment from a variety of manufacturers
o This project does not seek to replace any part of the OSI Model
o Instead it is a way of specifying functions of physical layer , the data link layer and up to some extent the network layer to allow for interconnectivity of major LAN protocols
o The relationship of IEEE project 802 to the OSI Model is shown in the figure:














•
o IEEE has divided the data link layer into two sub-layers:
Logical Link Control (LLC) Medium Access Control (MAC)
o LLC is non-architecture specific i.e. it is the same for all IEEE-defined LANs
o The MAC sub layer on the other hand contains a number of distinct modules; each carries proprietary info specific to the LAN product being used
o LAN compared with OSI -Figure

o In addition to the two sub-layers , Project 802 contain a section governing internetworking
o This section assures the compatibility of different LANs and MANs across protocols and allows data to be exchanged across otherwise incompatible networks

PROJECT 802
o Strength of Project 802 is Modularity
o By subdividing the functions necessary for LAN management, the designers were able to standardize those that can be generalized and isolate those that must remain specific
















•
> IEEE 802.11
o Is the section of Project 802 devoted to internetworking issues in LANs and MANs
o Although not yet complete, it seek to resolve the incompatibilities b/w network architectures w/o requiring modifications in existing addressing, access, and error recovery mechanisms

> LLC
In general, IEEE project 802 model takes the structure of an HDLC frame and divides into two sets of functions:
* One set contains the end-user portions of the frame: The logical address, control information and data
* These functions are handled by IEEE 802.2 LLC protocol
* LLC is upper of data link layer and is common to all LAN protocols


> MAC
o The second set of functions, the MAC sub-layer , resolves the contention for the shared media
o It contains Synchronization Flag, Flow and Error control specifications as well as the physical address of next station to receive & route a packet

o MAC protocols are specific to LAN using them (Ethernet, Token Ring, Token Bus etc)
o Protocol Data Unit (PDU)
o The data unit in the LLC level is called the Protocol Data unit (PDU)
o The PDU contains 4 fields familiar from HDLC:
-A destination service access point (DSAP)
-A source service access point (SSAP)
-A control field
-An Information field
Protocol Data Unit (PDU)

 DSAP and SSAP
o The DSAP and SSAP are addresses used by LLC to identify the protocol stacks on the receiving and sending machines that are generating and using data
o The first bit of the DSAP indicates whether the frame is intended for an individual or a group
o The first bit of SSAP indicates whether the communication is a command or a response PDU

CONTROL
o The control field of PDU is identical to the control field in HDLC.
o As in HDLC, PDU frames can be I-frames, S-frames, or U-Frames and carry all of the codes and the information that the corresponding HDLC frame carry

• The PDU has no flag fields, no CRC, and no station address
• These fields are added in the lower sub-layer i.e. MAC Layer




ETHERNET
IEEE 802.3 supports a LAN standard originally developed by Xerox and later extended by a joint venture b/w Digital Equipment Corporation, Intel Corporation and Xerox
This is called ETHERNET


Categories of 802.3-Figure












•




IEEE 802.3 defines two categories:
-BASEBAND
-BROADBAND
The word "base" specifies a digital signal The word "broad" specifies an analog signal


IEEE divides the base band category into 5 standards:
-10 Base 5 , 10 Base 2, 10 Base-T, 1 Base 5, 100 Base-T
o The first number (10, 1, or 100) indicates the data rate in Mbps.
o The last number or letter (5, 2, 1, or T) indicates the maximum cable length or the type of cable
o IEEE defines only one specification for the broadband category:
-10 Broad 36
o Again the first number (10) indicates the data rate.
o The last number defines the maximum cable length
o Max. cable length restriction can be changed using networking devices i.e. Repeaters or Bridges

Access Method: CSMA/CD
* Multiple Access: Multiple users access to a single line
* Carrier Sense: A device listens to the line before it transmits
* Collision Detection: Extremely high voltage indicates a collision

Need for a Access Method
* Whenever multiple users have unregulated access to a single line, there is a danger of signals overlapping and destroying each other
* Such overlaps which turn signals to Noise are called COLLISIONS
* As traffic increases on multiple-access link, so do collisions
* A LAN therefore needs a mechanism to coordinate traffic, minimize the number of collisions and maximizes the number of frames that are delivered successfully
* The access mechanism used in Ethernet is called Carrier Sense Multiple Access with Collision Detection (CSMA/CD)
• MA--> CSMA --> CSMA/CD
* CSMA/CD
o The original design was a multiple access method in which every workstation had equal access to the link
o In multiple access, there was no provision for traffic coordination
o Access to the line was open to any node at any time
o Any device wishing to transmit sent its data and then relied on ACKs to know if it had reached its destination

o In a CSMA system, any device wishing to transmit must first listen for existing traffic on the line
o A device must listen by checking for voltage
o If no voltage is detected, the line is considered idle and the TX is initiated
o CSMA cuts down on the number of collisions but does not eliminate them
o If a system transmits after checking the line and another system transmits during this small interval, collisions can still occur
o The final step is the addition of Collision Detection (CD)
o In CSMA/CD, the station wishing to transmit first listens to make certain the link is free, then transmits its data, then listens again

o During the data transmission, the station checks for the extremely high voltages that indicate a collision
o If a collision is detected, the station quits the current TX and waits a predetermined amount of time for the line to clear, then sends its data again


















• ?

> Addressing
o Each station on the Ethernet network such as a PC, workstation or printer has its own Network Interface Card (NIC)
o The NIC usually fits inside the station and provides the station with a 6-byte physical address
o The number on the NIC is unique
> Data Rate
o Ethernet LANs can support data rates between 1 and 100 Mbps

Implementation
o In IEEE 802.3 standard, the IEEE defines types of cables, connections and signals that are to be used in each of the five different Ethernet implementations
o Each frame is transmitted to every station on the link but read only by the station to which it is addressed

10 Base 5: Thick Ethernet
o The first of the physical standards defined in IEEE 802.3 model is called 10 Base 5,
Thick Ethernet or Thicknet
o The name is derived from the size of the cable which is roughly the size of a garden hose and cannot be bent with hands
o 10 Base 5 is a bus topology LAN that uses base band signaling and has a max. segment length of 500 meters


Size Limitations of 10 Base 5
o Networking devices such as Repeaters and Bridges are used to overcome the size limitation of LAN
o In Thicknet, a LAN can be divided into segments by connecting devices
o In this case, the length of each segment is limited to 500 meters
o However to reduce collisions, the total length of the bus should not exceed 2500 meters (5 segments)
o Also the standard demands that each station be separated from each other 2.5 meters
o 200 stations per segment and 1000 stations total














• ?

Topology of 10 Base 5
The physical connectors and cables utilized by 10 base 5 include coaxial cable, Network Interface Card, Transceivers and Attachment Unit Interface (AUI) cables



> RG-8 Cable
RG-8 cable (Radio Government) is a thick coaxial cable that provides the backbone of IEEE 802.3 standard

> TRANSCEIVER
Each station is attached by an AUI cable to an intermediary device called a Medium Attachment Unit (MAU) or a Transceiver
Transceiver performs the CSMS/CD function of checking for voltages and collisions on the line and may contain a small buffer

> AUI Cables
Each station is linked to its corresponding transceiver by an AUI cable also called the Transceiver cable
An AUI is a 15 wire cable with plug that performs the physical layer interface functions b/w the station and the transceiver
An AUI has a max. Length of 50 meters and it terminates in a 15-pin DB- 15 connector

> TRANSCEIVER TAP
Each transceiver contains a connecting mechanism called a TAP because it allows the transceiver to tap into the line at any point
The TAP is a thick cable sized well with a metal spike in the center





o The spike is attached to wires inside the transceiver
o When the cable is pressed into the well, the spike pierces the jacket and sheathing layers and makes an electrical connection b/w the transceiver and the cables
o This kind of connector is often called a VAMPIRE TAP because it bites the cable
Summary
* Local Area Networks (LANs)
* Project 802
* Protocol Data Unit (PDU)
* Ethernet
Reading Sections
* Section12.1, 12.2
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #43
Ethernet


10 Base 2: Thin Ethernet
o The second Ethernet Implementation defined by IEEE 802 series is called 10 Base 2, Thin Ethernet, Thin net
o Also called Cheap net because it provides an inexpensive alternative to 10 Base 5 Ethernet, with the same data rate
o Like 10 Base 5, 10 Base 2 is a Bus Topology LAN
o 10 Base 2: Thin Ethernet
* The advantages of thin Ethernet are :
-reduced cost and
-ease of installation
Because the cable is lighter weight and more flexible than that used in Thicknet

* The disadvantages are:
-Short Range (185 m as opposed to 500 m)
-Smaller Capacity (thinner cable accommodates fewer stations)
* Physical Topology of 10 base 2
o The connectors and cables utilized are: NICs, Thin coaxial cable and BNC-T connectors
o In this technology, the transceiver circuitry is moved to the NIC, and transceiver tap is replaced by connector that splices directly into the cable
o No AUI cables are needed




> NIC
o NICs in Thin Ethernet provide the same functionality as those in Thicknet plus the functions of the Transceiver
o A 10 Base 2 NIC not only provides the station with an address but also checks for voltages on the link

> RG-58 Cable
o These cables are relatively easy to install and move around
o Especially inside the buildings where cable must be pulled through the walls and the ceilings

> BNC-T
The BNC-T connector is a T-shaped device with three ports:
-One for the NIC
-One each for the input and output ends of the cable
10 base T: Twisted Pair Ethernet
o Most popular standard defined in IEEE 802.3 series is 10 Base T also called Twisted Pair Ethernet
o It is a Star topology LAN that uses Unshielded Twisted pair (UTP) cable instead of coaxial cable
o It supports a data rate of 10 Mbps and has a maximum length of 100 meters




o Instead of individual transceivers, 10 Base T Ethernet places all of its networking operations in an intelligent Hub with a port for each station
o Stations are linked into the hub by four pair RJ-45 cable terminating at each end in a male-type connector much like a Telephone jack
o The hub fans out any transmitted frame to all of its connected stations
o Each station contains a NIC
o A 4-pair UTP of not more than 100 meters connects the NIC to the appropriate port in 10 Base T Hub
o The weight & flexibility of the cable and the convenience of RJ-45 jack and plug makes it the easiest to install and reinstall

1 Base 5: STAR LAN
o Star LAN is infrequently used nowadays because of its slow speed of approx. 1Mbps
o Range can be increased by DAISY CHAINING
o Like 10 Base T, Star LAN uses Twisted pair cable to connect stations to a central hub
o Star LAN allows 10 devices to be linked with only the lead device connected to the hub

Switched Ethernet
o An attempt to improve the performance of 10BASE-T
o N ×10 Mbps with N devices







Fast Ethernet
o Data rate can be increased by decreasing the collision domain
o If 10 Mbps ==> 100 Mbps, then
- 2500 m ==> 250 m




* 100 Base-TX and 100 Base-FX


* 100 Base-T4


Gigabit Ethernet
o Usually serves as a backbone
o Four implementations
-1000Base-SX, 1000Base-LX: Optical fiber, 550-5000 m
-1000Base-CX (STP), 1000Base-T (UTP): 25 m

Token Bus
o Other LANs are not suitable for this purpose
o Token Bus has no commercial application in data communications
o Token Ring allows each station to send one frame per turn
o Access method: Token passing
Summary
* Ethernet
-Implementations
* Other Ethernet Networks
* Token Bus/Ring
Reading Sections
* Section 12.2, 12.3, 12.4, 12.5
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan



Token Ring

LECTURE #44


o Token Ring allows each station to send one frame per turn
o Access method: Token passing


Access Control of Token Ring
> Priority and reservation
-Each station has a priority code
> Time limits
-Token Ring imposes a time limit to keep traffic moving
* Monitor Stations
o One station is designated as a monitor station to handle several problems
o Monitor station generates a new token when it is lost
o Monitor station removes recirculating data frames
Token Ring Frame




Data Frame Fields



Implementation
o Each station in the Token Ring regenerates the frame
o One disabled or disconnected node could stop the traffic flow around the entire network
-Each station is connected to an automatic switch





Token Ring Switch




> Multi station Access Unit (MAU)
o Individual automatic switches are combined in to a hub
o One MAU can support up to 8 stations
o Although it looks like a star, it is in fact a ring




* FDDI
o Fiber Distributed Data Interface standardized by ANSI and the ITU-T
o 100 Mbps LAN protocol
o CDDI: Copper version of FDDI
o Access method: Token passing
> FDDI Time Registers
Time registers
-Values are set when the ring is initialized and do not vary
-SA (Synchronous Allocation)
-TTRT (Target Token Rotation Time)
-AMT (Absolute Maximum Time)
> FDDI Timers
Timers
-Each station contains two timers
-TRT (Token Rotation Timer) : Incrementing
-THT (Token Holding Timer) : Decrementing

Station Procedure

Station Procedure
o THT is set to the difference between TTRT and TRT
o THT = TTRT - TRT
o TRT is reset to zero (TRT = 0)
o The station sends S-frames during the time in SA
o The station sends A-frames as long as THT ? 0
o Release the token
Dual Ring (Figure-1)


Dual Ring (Figure-2)

Summary
* Token Ring
* FDDI
Reading Sections
* Section 12.5, 12.6, 12.7
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan

LECTURE #45
Internet
o An internet is a generic term used to mean an interconnection of individual networks
o To create an internet, we need networking devices called routers and gateways
o An internet is different from the Internet
o Internet is the name of a specific worldwide network

Connecting devices (Figure-1)



Connecting devices (Figure-2)


Repeaters
Repeaters (Figure-1)

o A repeater allows us to extend only the physical length of a network
o Repeater is a regenerator, not an amplifier
Repeaters (Figure-2)

Repeaters (Figure-3)


Bridges


o Bridges can divide a large network into smaller segments




When a frame enters a bridge, the bridge:

-not only regenerates the signal
-but check the address of the destination and forwards the new copy only to the segment to which the address belongs

Routers



Routers relay packets among multiple interconnection networks



TCP/IP
o Transmission Control Protocol/ Internet Protocol
o 1969
o ARPA(Advanced Research Project Agency) net


TCP/IP and OSI

TCP/IP Protocols
* Network Layer
-IP (Internetworking Protocol )
-ARP(Address Resolution Protocol)
-RARP(Reverse Address Resolution Protocol)
-ICMP(Internet Control Message Protocol)
-IGMP(Internet Group Message Protocol)
* Transport Layer
-TCP (Transmission Control Protocol)
-UDP (User Datagram Protocol)
Summary
* Internet work
* Connecting Devices
-Repeaters
-Bridges
-Routers
* TCP/IP Protocol Suite
Reading Sections
* Section 21.1, 21.2, 21.3, 24.1, 24.2,
"Data Communications and Networking" 4th Edition by Behrouz A. Forouzan




